(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[768],{8869:function(e,t,n){"use strict";var r=n(5893),i=n(4121),a=n(6265),o=n(7294),s=n(9380),c=n(2822),l=n(998),u=n(2863),d=n(5757),p=n(6869),f=n(5258),h=n(8358),m=n(7812),x=n(1571),g=n(1120),y=n(5117),v=n(1163),j=n(1337),Z=function(e){var t=[{name:"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8",href:"/",icon:"home"},{name:"\u3054\u5229\u7528\u898f\u7d04",href:"/TermsPage",icon:"assignment"},{name:"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30dd\u30ea\u30b7\u30fc",href:"/PrivacyPolicyPage",icon:"security"},{name:"\u304a\u554f\u3044\u5408\u308f\u305b",href:"/HelpPage",icon:"help_outline"},{name:"\u958b\u767a\u753b\u9762",href:"/",icon:"build"}];return e.isLogined?t.push({name:"\u30de\u30a4\u30da\u30fc\u30b8",href:"/MyPage",icon:"person"}):(t.push({name:"\u4f1a\u54e1\u767b\u9332",href:"/SignUpPage",icon:"person_add"}),t.push({name:"\u30ed\u30b0\u30a4\u30f3",href:"/SignInPage",icon:"person"})),t},b=(0,g.Z)((function(e){var t;return(0,y.Z)({toolbar:(t={height:56,paddingTop:4,paddingBottom:4},(0,a.Z)(t,"".concat(e.breakpoints.up("xs")," and (orientation: landscape)"),{height:48}),(0,a.Z)(t,e.breakpoints.up("sm"),{height:64}),t)})}));t.Z=function(e){var t=(0,s.Z)(),n=b(),a=o.useState(!1),g=(0,i.Z)(a,2),y=g[0],T=g[1],C=(0,j.CG)((function(e){return e.auth})),S=(0,j.TL)(),w=(0,v.useRouter)();return(0,r.jsxs)("div",{children:[(0,r.jsx)(f.Z,{position:"fixed",color:"primary",children:(0,r.jsxs)(h.Z,{children:[(0,r.jsx)("div",{className:n.toolbar,children:(0,r.jsx)("img",{style:{objectFit:"contain",height:"100%"},src:"https://lh3.googleusercontent.com/pw/ACtC-3f9V0NNZ1ksqKeXNHmed9tfg1yLQgzM1aKhSgVoz0yGXNPndqSZbaeach5hZXcNJ2JcDDSd0qb2yLtc2Oz436gJXt1Wedgn5npqTLPXqOCAfQPZwlLZ41m3WDdY5JOV1Q8n3hU7cOp_3tvm-tUwlQM=w200-h64-no?authuser=0",onClick:function(){w.push("/")},alt:"site logo",width:"100%",height:"100%"})}),(0,r.jsx)("div",{style:{flexGrow:1}}),C.isLogin&&(0,r.jsx)(m.Z,{color:"inherit",onClick:function(){S(j.Lt.updateLoginStatus(!1)),w.push("/SignInPage")},"aria-label":"logout",children:(0,r.jsx)(u.Z,{children:"exit_to_app"})}),(0,r.jsx)(m.Z,{color:"inherit",onClick:function(){return T(!y)},"aria-label":"open drawer",children:(0,r.jsx)(u.Z,{children:"menu"})})]})}),(0,r.jsx)(x.Z,{anchor:"top",open:y,onOpen:function(){return T(!0)},onClose:function(){return T(!1)},children:(0,r.jsx)(c.Z,{children:Z({isLogined:C.isLogin}).filter((function(e){return e.href!==w.pathname})).map((function(e,t){return(0,r.jsxs)(l.Z,{button:!0,onClick:function(){return w.push(e.href)},style:{width:"100%"},children:[(0,r.jsx)(p.Z,{children:(0,r.jsx)(u.Z,{color:"inherit",children:e.icon})}),(0,r.jsx)(d.Z,{color:"inherit",primary:e.name,style:{paddingRight:"5em"}})]},t)}))})}),(0,r.jsx)("div",{className:t.toolbar,style:{marginBottom:"1em"}}),e.children]})}},199:function(e,t,n){"use strict";function r(){return{clsxJoin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(" ")},clsxSwitch:function(e,t,n){return n?e:t},switchPhotoSize:function(e,t){return"".concat(e,t?"=w600?authuser=0":"=w1920?authuser=0")}}}n.d(t,{Z:function(){return r}})},7433:function(e,t,n){"use strict";n.r(t),n.d(t,{EditerListContext:function(){return Ne},default:function(){return ke}});var r=n(5893),i=n(4121),a=n(7294),o=n(1749),s=n(8869),c=n(6265),l=n(9999),u=n(282),d=n(7397),p=n(2822),f=n(998),h=n(5757),m=n(6037),x=n(3015),g=n(4722),y=n(8083),v=n(2037),j=function(e,t,n){return e.map((function(e){if(""===e)return{error:!1,message:""};if("\uff0b"===e||"\u30fc"===e||"\u2015"===e||"\uff0d"===e)return{error:!0,message:"\u8a18\u53f7".concat(e,"\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002\u534a\u89d2\u304b\u3001\u6b63\u3057\u3044\u8a18\u53f7\u304b\u78ba\u8a8d\u4e0b\u3055\u3044\u3002")};if(y.TextParser.isVariable(e)&&null===t.find((function(t){return t.name===e})))return{error:!0,message:'\u5165\u529b\u3055\u308c\u305f\u5909\u6570"'.concat(e,'"\u304c\u5b58\u5728\u3057\u307e\u305b\u3093')};var r;if(!y.TextParser.isOperator(e)&&y.TextParser.isVariable(e)&&!y.TextParser.isType(null===(r=t.find((function(t){return e.replace(/\$/g,"")===t.name})))||void 0===r?void 0:r.type,n))return{error:!0,message:"\u5165\u529b\u3055\u308c\u305f\u5909\u6570\u300c".concat(e,"\u300d\u306f\u300c").concat(null===n||void 0===n?void 0:n.parent).concat((null===n||void 0===n?void 0:n.child)===g.default.NONE?"":" "+(null===n||void 0===n?void 0:n.child),"\u300d\u3067\u306f\u3042\u308a\u307e\u305b\u3093")};if(!y.TextParser.isOperator(e)&&!y.TextParser.isVariable(e)){var i="\u5165\u529b\u3055\u308c\u305f\u5024\u300c".concat(e,"\u300d\u306f\u300c").concat(null===n||void 0===n?void 0:n.parent).concat((null===n||void 0===n?void 0:n.child)===g.default.NONE?"":" "+(null===n||void 0===n?void 0:n.child),"\u300d\u3067\u306f\u3042\u308a\u307e\u305b\u3093");if(y.TextParser.isTypeANYANY(n))return{error:!1,message:""};if(y.TextParser.isTypeDate(n)){if("Invalid Date"===new Date(e).toString())return{error:!0,message:i}}else if(y.TextParser.isTypeNumber(n)){if("NaN"===Number(e).toString())return{error:!0,message:i}}else if(y.TextParser.isTypeBoolean(n)){if("true"!==e&&"false"!==e)return{error:!0,message:i}}else if(y.TextParser.isTypeIfOperator(n)){if(!y.TextParser.isIFOperator(e))return{error:!0,message:i}}else if(y.TextParser.isTypeString(n)){if("string"!==typeof e)return{error:!0,message:i};if(!y.TextParser.isFormatString(e))return{error:!0,message:i}}}return{error:!1,message:""}}))},Z=function(e,t){return e.map((function(e){return y.TextParser.isOperator(e)||y.TextParser.isVariable(e)||y.TextParser.isTypeANYANY(t)?e:"string"===typeof e&&""!==e&&!y.TextParser.isFormatString(e)&&y.TextParser.isTypeString(t)?y.TextParser.addStringSymbol(e).replace(/\s/g,""):e}))},b=function e(t){if("variable"===t.label)return y.TextParser.addVariableSymbol(t.name);if("template"===t.label)return t.name;throw(0,v.Td)("\u6307\u5b9a\u3055\u308c\u305fVariableList\u306b\u672a\u5b9a\u7fa9\u306e\u578b\u304c\u5b58\u5728\u3057\u307e\u3059",e.name)},T=n(199),C=n(9380),S=function(e){var t=(0,C.Z)(),n=(0,T.Z)().clsxJoin;return(0,r.jsx)("div",{className:n(t.text_body,t.text_secondary),style:{width:"100%"},children:e.children})},w=n(3872),I=function(e){var t,n=a.useState([]),o=(0,i.Z)(n,2),s=o[0],c=o[1],v=a.useState(!1),T=(0,i.Z)(v,2),C=T[0],I=T[1],N=a.useState(NaN),O=(0,i.Z)(N,2),k=O[0],E=O[1],_=a.useState(""),A=(0,i.Z)(_,2),P=A[0],F=A[1],z=a.useState(""),R=(0,i.Z)(z,2),L=R[0],M=R[1],q=a.useState([]),D=(0,i.Z)(q,2),B=D[0],V=D[1],W=a.useRef();(0,a.useEffect)((function(){if(I(!1),c([].concat()),F(""),""!==e.input&&void 0!==W.current){var t=Z(W.current.value.replace(/\s/g,"").split(/(\+|-)/g),e.acceptType);if(""!==t.join("")){var n=j(t,e.variableList,e.acceptType);n.every((function(e){return!e.error}))?(V([].concat()),e.setInput(t.join("").replace(/(\+|-)$/g,"")),e.setError(!1)):(V((0,l.Z)(n.filter((function(e){return e.error})).map((function(e){return e.message})))),e.setError(!0))}}}),[e.acceptType]),(0,a.useEffect)((function(){var e=W.current;"NaN"!==k.toString()&&e.setSelectionRange(k,k)}),[k]),(0,a.useEffect)((function(){""!==L&&c((function(e){return e.filter((function(e){return-1!==e.name.indexOf(L)}))}))}),[L]),(0,a.useEffect)((function(){var e=!0;return C&&0===s.length&&(I(!1),V(["\u4e00\u81f4\u3059\u308b\u5909\u6570\u304c\u3042\u308a\u307e\u305b\u3093"].concat((0,l.Z)(B))),setTimeout((function(){e&&V((0,l.Z)(B))}),2e3)),function(){e=!1}}),[s]);var G=function(t){var n=W.current,r=t.currentTarget.getAttribute("data-name"),i=t.currentTarget.getAttribute("data-label"),a=JSON.parse(t.currentTarget.getAttribute("data-type")),o=null===n.selectionStart?0:n.selectionStart,s=b({name:r,label:i,type:a,remark:""});e.setInput("".concat(P.substr(0,o)).concat(0===o?"":" ").concat(s," ").concat(P.substr(o))),I(!1),E("".concat(P.substr(0,o)).concat(0===o?"":" ").concat(s," ").length),c([].concat()),F(""),n.focus()};return(0,r.jsxs)("div",{children:[(0,r.jsx)(x.Z,{value:e.input,variant:"outlined",color:"secondary",fullWidth:!0,onChange:function(t){var n=t.currentTarget,r=n.selectionStart,i=n.value;C&&null!==r&&M((function(e){return"".concat(e).concat(i.substr(r-1,1))})),e.setError(!1),e.setInput(i)},onBlur:function(t){var n=Z(t.currentTarget.value.replace(/\s/g,"").split(/(\+|-)/g),e.acceptType);if(""!==n.join("")){var r=j(n,e.variableList,e.acceptType);r.every((function(e){return!e.error}))?(V([].concat()),e.setInput(n.join("").replace(/(\+|-)$/g,"")),e.setError(!1)):(V((0,l.Z)(r.filter((function(e){return e.error})).map((function(e){return e.message})))),e.setError(!0))}},onKeyDown:function(e){C&&["Backspace","Delete","ArrowLeft","ArrowUp","ArrowDown","ArrowRight"].some((function(t){return t===e.key}))&&(I(!1),c([].concat()),F(""))},inputRef:W,label:"".concat(e.label).concat((0,w.isUndefined)(e.acceptType)?"":" "+e.acceptType.parent.toString()).concat((0,w.isUndefined)(e.acceptType)||e.acceptType.child===g.default.NONE?"":" "+(null===(t=e.acceptType)||void 0===t?void 0:t.child.toString())),required:void 0!==e.acceptType,disabled:void 0===e.acceptType,placeholder:void 0===e.acceptType?"\u30ab\u30c6\u30b4\u30ea\u30fb\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u9078\u629e":"\u5909\u6570\u306e\u633f\u5165\u306f\u53f3\u306e\u30dc\u30bf\u30f3\u304b\u3089\u884c\u3044\u307e\u3059",error:0!==B.length,InputProps:{endAdornment:(0,r.jsx)(d.Z,{position:"end",children:(0,r.jsx)(u.Z,{variant:"contained",color:C?"primary":"secondary",size:"medium",onClick:function(t){var n=W.current,r=null===n.selectionStart?0:n.selectionStart;C?(c([].concat()),F("")):(e.setInput((function(e){return"".concat(e.substr(0,r)).concat(e.substr(r))})),c((0,l.Z)(e.variableList.filter((function(t){return y.TextParser.isType(t.type,e.acceptType)})))),F(n.value)),M(""),E(r),I(!C),n.focus()},style:{width:"5em"},children:C?"\u9589\u3058\u308b":"\u5909\u6570\u633f\u5165"})})}}),(0,r.jsx)(m.Z,{in:0!==B.length,exit:0===B.length,unmountOnExit:!0,children:B.map((function(e,t){return(0,r.jsx)(S,{children:e},t)}))}),(0,r.jsx)(m.Z,{in:0!==s.length,unmountOnExit:!0,children:(0,r.jsx)(p.Z,{style:{maxHeight:"20em",overflow:"scroll",overflowX:"hidden"},children:s.map((function(e,t){return(0,r.jsx)(f.Z,{divider:!0,button:!0,"data-name":e.name,"data-label":e.label,"data-type":JSON.stringify(e.type),onClick:G,children:(0,r.jsx)(h.Z,{primary:e.name,secondary:"(".concat(e.label,") ").concat(e.type.parent," ").concat(e.type.child===g.default.NONE?"":e.type.child)})},t)}))})})]})},N=function(e){var t,n=a.useState([]),o=(0,i.Z)(n,2),s=o[0],c=o[1],l=a.useRef();(0,a.useEffect)((function(){var t,n=null===(t=l.current)||void 0===t?void 0:t.value;if(void 0!==n&&""!==n){var r=[],i=y.TextParser.isCorrectFormatOfVariable(n),a=e.variableList.find((function(e){return e===n}));i.err&&r.push(i.message),void 0!==a&&r.push("\u5909\u6570\u540d\u300c".concat(n,"\u300d\u306f\u65e2\u306b\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059")),c(r),e.setError(0!==r.length)}}),[e.acceptType]);return(0,r.jsxs)("div",{children:[(0,r.jsx)(x.Z,{fullWidth:!0,value:e.input,variant:"outlined",color:"secondary",inputRef:l,required:void 0!==e.acceptType&&!y.TextParser.isTypeNone(e.acceptType),onChange:function(t){e.setInput(t.currentTarget.value.replace(/\s/g,"")),e.setError(!1)},onBlur:function(t){var n=[],r=y.TextParser.isCorrectFormatOfVariable(t.currentTarget.value),i=e.variableList.find((function(e){return e===t.currentTarget.value}));r.err&&n.push(r.message),void 0!==i&&n.push("\u5909\u6570\u540d\u300c".concat(t.currentTarget.value,"\u300d\u306f\u65e2\u306b\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059")),c(n),e.setError(0!==n.length)},label:"".concat(e.label).concat((0,w.isUndefined)(e.acceptType)?"":" "+e.acceptType.parent.toString()).concat((0,w.isUndefined)(e.acceptType)||e.acceptType.child===g.default.NONE?"":" "+(null===(t=e.acceptType)||void 0===t?void 0:t.child.toString())),disabled:void 0===e.acceptType&&!(0,w.isTypeNone)(e.acceptType),placeholder:void 0!==e.acceptType||(0,w.isTypeNone)(e.acceptType)?"\u5024\u306e\u4fdd\u5b58\u5148\u540d\uff08\u5909\u6570\u540d\uff09\u3092\u6307\u5b9a\u3057\u307e\u3059":"\u30ab\u30c6\u30b4\u30ea\u30fb\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u9078\u629e",error:0!==s.length}),(0,r.jsx)(m.Z,{in:0!==s.length,exit:0===s.length,unmountOnExit:!0,children:s.map((function(e,t){return(0,r.jsx)(S,{children:e},t)}))})]})},O=function(e){var t=a.useState(""),n=(0,i.Z)(t,2),o=n[0],s=n[1],c=a.useState(!1),v=(0,i.Z)(c,2),T=v[0],C=v[1],w=a.useState([]),I=(0,i.Z)(w,2),N=I[0],O=I[1],k=a.useState(!1),E=(0,i.Z)(k,2),_=E[0],A=E[1],P=a.useState(NaN),F=(0,i.Z)(P,2),z=F[0],R=F[1],L=a.useState(""),M=(0,i.Z)(L,2),q=M[0],D=M[1],B=a.useState(""),V=(0,i.Z)(B,2),W=V[0],G=V[1],U=a.useState([]),J=(0,i.Z)(U,2),X=J[0],Y=J[1],H=a.useRef();(0,a.useEffect)((function(){void 0!==e.input[e.currentIndex].value&&null!==e.input[e.currentIndex].value&&s(e.input[e.currentIndex].value)}),[]),(0,a.useEffect)((function(){A(!1),O([].concat()),D("")}),[e.acceptType]),(0,a.useEffect)((function(){var e=H.current;"NaN"!==z.toString()&&e.setSelectionRange(z,z)}),[z]),(0,a.useEffect)((function(){""!==W&&O((function(e){return e.filter((function(e){return-1!==e.name.indexOf(W)}))}))}),[W]),(0,a.useEffect)((function(){_&&0===N.length&&(A(!1),Y(["\u4e00\u81f4\u3059\u308b\u5909\u6570\u304c\u3042\u308a\u307e\u305b\u3093"].concat((0,l.Z)(X))),setTimeout((function(){Y((0,l.Z)(X))}),2e3))}),[N]);var $=function(t){var n=H.current,r=t.currentTarget.getAttribute("data-name"),i=t.currentTarget.getAttribute("data-label"),a=JSON.parse(t.currentTarget.getAttribute("data-type")),o=null===n.selectionStart?0:n.selectionStart,c=b({name:r,label:i,type:a,remark:""}),l="".concat(q.substr(0,o)).concat(0===o?"":" ").concat(c," ").concat(q.substr(o));s(l),e.setInput((function(t){return t.map((function(t,n){return n===e.currentIndex?{key:t.key,value:l,isObject:t.isObject}:t})).concat()})),A(!1),R("".concat(q.substr(0,o)).concat(0===o?"":" ").concat(c," ").length),O([].concat()),D(""),n.focus()};return(0,r.jsxs)("div",{children:[(0,r.jsx)(x.Z,{value:o,variant:"outlined",color:"secondary",fullWidth:!0,onChange:function(t){var n=t.currentTarget,r=n.selectionStart,i=n.value;_&&null!==r&&G((function(e){return"".concat(e).concat(i.substr(r-1,1))})),s(i),e.setError((function(t){return t.map((function(t,n){return n!==e.currentIndex&&t}))}))},onBlur:function(t){var n=Z(t.currentTarget.value.replace(/\s/g,"").split(/(\+|-)/g),e.acceptType);if(""!==n.join("")){var r=j(n,e.variableList,e.acceptType);r.every((function(e){return!e.error}))?(Y([].concat()),s(n.join("").replace(/(\+|-)$/g,"")),C(!1),e.setInput((function(t){return t.map((function(t,r){return r===e.currentIndex?{key:t.key,value:n.join("").replace(/(\+|-)$/g,""),isObject:t.isObject}:t})).concat()})),e.setError((function(t){return t.map((function(t,n){return n!==e.currentIndex&&t}))}))):(C(!0),Y((0,l.Z)(r.filter((function(e){return e.error})).map((function(e){return e.message})))),e.setError((function(t){return t.map((function(t,n){return n===e.currentIndex||t}))})))}else e.require?(C(!0),Y(["\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044"]),e.setError((function(t){return t.map((function(t,n){return n===e.currentIndex||t}))}))):(Y([].concat()),C(!1),e.setInput((function(t){return t.map((function(t,r){return r===e.currentIndex?{key:t.key,value:n.join("").replace(/(\+|-)$/g,""),isObject:t.isObject}:t})).concat()})),e.setError((function(t){return t.map((function(t,n){return n!==e.currentIndex&&t}))})))},onKeyDown:function(e){_&&["Backspace","Delete","ArrowLeft","ArrowUp","ArrowDown","ArrowRight"].some((function(t){return t===e.key}))&&(A(!1),O([].concat()),D(""))},multiline:e.isMultiline,inputRef:H,label:"".concat(e.label),required:void 0!==e.acceptType&&e.require,disabled:void 0===e.acceptType,placeholder:void 0===e.acceptType?"\u30ab\u30c6\u30b4\u30ea\u30fb\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u9078\u629e":"\u5909\u6570\u306e\u633f\u5165\u306f\u53f3\u306e\u30dc\u30bf\u30f3\u304b\u3089\u884c\u3044\u307e\u3059",error:T,InputProps:{endAdornment:(0,r.jsx)(d.Z,{position:"end",children:(0,r.jsx)(u.Z,{variant:"contained",color:_?"primary":"secondary",size:"medium",onClick:function(t){var n=H.current,r=null===n.selectionStart?0:n.selectionStart;_?(O([].concat()),D("")):(s((function(e){return"".concat(e.substr(0,r)).concat(e.substr(r))})),O((0,l.Z)(e.variableList.filter((function(t){return y.TextParser.isType(t.type,e.acceptType)})))),D(n.value)),G(""),R(r),A(!_),n.focus()},style:{width:"5em"},children:_?"\u9589\u3058\u308b":"\u5909\u6570\u633f\u5165"})})}}),(0,r.jsx)(m.Z,{in:0!==X.length,exit:0===X.length,unmountOnExit:!0,children:X.map((function(e,t){return(0,r.jsx)(S,{children:e},t)}))}),(0,r.jsx)(m.Z,{in:0!==N.length,unmountOnExit:!0,children:(0,r.jsx)(p.Z,{style:{maxHeight:"20em",overflow:"scroll",overflowX:"hidden"},children:N.map((function(e,t){return(0,r.jsx)(f.Z,{divider:!0,button:!0,"data-name":e.name,"data-label":e.label,"data-type":JSON.stringify(e.type),onClick:$,children:(0,r.jsx)(h.Z,{primary:e.name,secondary:"(".concat(e.label,") ").concat(e.type.parent).concat(e.type.child===g.default.NONE?"":" "+e.type.child)})},t)}))})})]})},k=n(7812),E=n(2863),_=n(9912),A=n(9550),P=n(1337),F=n(1182),z=n(1120),R=n(5117),L=(0,z.Z)((function(e){return(0,R.Z)({card:{width:"100%",overflow:"auto",padding:e.spacing(0)}})})),M=function(e){var t=e.open,n=e.onClose,i=e.children,a=e.style,o=(0,C.Z)(),s=L(),c=(0,T.Z)().clsxJoin;return(0,r.jsx)(F.Z,{open:t,onClose:n,children:(0,r.jsx)("div",{className:c(o.card_basic,o.positionFixedCentering,s.card),style:a,children:i})})},q=n(3901),D=n(6353),B=(0,z.Z)((function(e){return(0,R.Z)({listContainer:{maxHeight:"60vh",overflow:"scroll",overflowX:"hidden",borderRadius:e.shape.borderRadius,boxShadow:e.shadows[2]},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}})})),V=function(e){return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(D.Z,{children:(0,r.jsx)(q.Z,{children:(0,r.jsx)(E.Z,{children:e.icon})})}),(0,r.jsx)(h.Z,{primary:e.pText,secondary:e.sText})]})},W=function(e){var t=B(),n=(0,C.Z)(),i=(0,T.Z)(),a=i.clsxSwitch,s=i.clsxJoin;return(0,r.jsxs)(o.Z,{container:!0,children:[(0,r.jsx)(o.Z,{item:!0,sm:11,xs:10,children:(0,r.jsx)("p",{className:s(n.text_body,n.text_secondary),style:{textAlign:"right"},children:"\u30ab\u30c6\u30b4\u30ea\u30d5\u30a3\u30eb\u30bf"})}),(0,r.jsx)(o.Z,{item:!0,sm:1,xs:2,children:(0,r.jsx)(k.Z,{className:a(t.expand,t.expandOpen,e.expand),"aria-expanded":e.expand,"aria-label":"show more",onClick:e.handleExpand,title:"\u6a5f\u80fd\u3092\u7d5e\u308a\u8fbc\u3080\u969b\u306b\u958b\u304d\u307e\u3059",children:(0,r.jsx)(E.Z,{children:"expand_more"})})}),(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(m.Z,{in:e.expand,children:e.children})})]})},G=function(e){var t=(0,C.Z)(),n=(0,T.Z)().clsxJoin;return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(x.Z,{required:!0,fullWidth:!0,variant:"outlined",color:"secondary",label:e.label,placeholder:"\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3059\u308b\u3068\u7d5e\u308a\u3053\u307f\u304c\u51fa\u6765\u307e\u3059",value:e.input,onChange:e.onChange,onBlur:e.onBlur,onFocus:e.onFocus,error:""!==e.error,InputProps:{endAdornment:(0,r.jsx)(d.Z,{position:"end",children:(0,r.jsx)(k.Z,{"aria-label":"value-clear",title:"\u5165\u529b\u5024\u3092\u30af\u30ea\u30a2\u3057\u307e\u3059",onClick:e.onClear,children:(0,r.jsx)(E.Z,{color:"action",fontSize:"small",children:"close"})})})}}),(0,r.jsx)(m.Z,{in:""!==e.error,children:(0,r.jsx)("div",{className:n(t.text_body,t.text_secondary),style:{width:"100%"},children:e.error})})]})},U=function(e){var t=e.inputCategory,n=e.setInputCategory,s=e.inputMethod,c=e.setInputMethod,l=e.setError,u=e.setClassesUpdater,d=B(),h={classesQuery:function(e){return{category:function(){return""===e?y.Classes.Search.getAllCategory():y.Classes.Search.getCategoryPartialMatch(e)},method:function(t){return""===e?y.Classes.Search.getAllMethods(t):y.Classes.Search.getMethodPartialMatch(e,t)}}},onChangeInit:function(e,t,n){t(e),n(20)},handleListViewNums:function(e){return{add:function(){e((function(e){return e+20}))},reset:function(){e(20)}}},handleError:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];r.forEach((function(t){return t(e?"\u5165\u529b\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002\u30ea\u30b9\u30c8\u304b\u3089\u9078\u629e\u4e0b\u3055\u3044\u3002":"")})),t(e)}},x=h.classesQuery,g=h.onChangeInit,v=h.handleError,j=h.handleListViewNums,Z=a.useState(""),b=(0,i.Z)(Z,2),T=b[0],C=b[1],S=a.useState([]),w=(0,i.Z)(S,2),I=w[0],N=w[1],O=a.useState(""),k=(0,i.Z)(O,2),E=k[0],_=k[1],A=a.useState([]),P=(0,i.Z)(A,2),F=P[0],z=P[1],R=a.useState(20),L=(0,i.Z)(R,2),M=L[0],q=L[1],D=a.useState(!1),U=(0,i.Z)(D,2),J=U[0],X=U[1],Y=function(e){var t=e.currentTarget.getAttribute("data-categoryid");n(t),j(q).reset(),[c,_,C].forEach((function(e){return e("")})),[N,z].forEach((function(e){return e([])})),v(!y.Classes.Search.isCategoryId(t),l,C)},H=function(e){var t=e.currentTarget.getAttribute("data-categoryid"),r=e.currentTarget.getAttribute("data-methodid");X(!0),n(t),c(r),j(q).reset(),[N,z].forEach((function(e){return e([])})),v(!y.Classes.Search.isMethodId(t,r),l,C,_),u(t,r)};return(0,r.jsx)(a.Fragment,{children:(0,r.jsxs)(o.Z,{container:!0,justify:"center",alignItems:"center",spacing:3,children:[(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsxs)(W,{expand:J,handleExpand:function(){X(!J)},children:[(0,r.jsx)(G,{input:t,label:"\u30ab\u30c6\u30b4\u30ea\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044",error:T,onBlur:function(e){1===I.length?(n(I[0].categoryId),[N,z].forEach((function(e){return e([])})),j(q).reset(),v(!y.Classes.Search.isCategoryId(t),l,C)):""===t?C(""):v(!y.Classes.Search.isCategoryId(t),l,C)},onChange:function(e){g(e.currentTarget.value,n,q),N(x(e.currentTarget.value).category())},onFocus:function(){N(x(t).category())},onClear:function(){[n,c].forEach((function(e){return e("")}))}}),(0,r.jsx)(m.Z,{in:0!==I.length,exit:0===I.length,unmountOnExit:!0,children:(0,r.jsx)(p.Z,{className:d.listContainer,dense:!0,children:I.filter((function(e,t){return t<20})).map((function(e,t){return(0,r.jsx)(f.Z,{button:!0,divider:!0,"data-categoryid":e.categoryId,onClick:Y,children:(0,r.jsx)(V,{icon:e.cardCategoryIcon,pText:"".concat(e.categoryId,"/").concat(e.categoryName),sText:e.categoryDescription})},t)}))})})]})}),(0,r.jsxs)(o.Z,{item:!0,xs:12,children:[(0,r.jsx)(G,{input:s,label:"\u6a5f\u80fd\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044",error:E,onBlur:function(e){1===F.length?(X(!0),n(F[0].categoryId),c(F[0].methodId),[N,z].forEach((function(e){return e([])})),j(q).reset(),u(F[0].categoryId,F[0].methodId),v(!y.Classes.Search.isMethodId(F[0].categoryId,F[0].methodId),l,C,_)):v(!y.Classes.Search.isMethodId(t,s),l,_)},onChange:function(e){g(e.currentTarget.value,c,q),z(x(e.currentTarget.value).method(t))},onFocus:function(){z(x(s).method(t))},onClear:function(){c("")}}),(0,r.jsx)(m.Z,{in:0!==F.length,exit:0===F.length,unmountOnExit:!0,children:(0,r.jsxs)(p.Z,{className:d.listContainer,dense:!0,children:[F.filter((function(e,t){return t<M})).map((function(e,t){return(0,r.jsx)(f.Z,{button:!0,divider:!0,"data-categoryid":e.categoryId,"data-methodid":e.methodId,onClick:H,children:(0,r.jsx)(V,{icon:e.cardCategoryIcon,pText:"".concat(e.categoryName,"/").concat(e.methodName),sText:e.methodDescription})},t)})),F.length>M&&(0,r.jsx)(f.Z,{divider:!0,button:!0,onClick:function(){j(q).add()},children:(0,r.jsx)(V,{icon:"add",pText:"\u691c\u7d22\u7d50\u679c\u3092\u66f4\u306b\u8868\u793a\u3059\u308b",sText:"\u8ffd\u52a0\u306720\u4ef6\u3092\u8868\u793a\u3057\u307e\u3059"})})]})})]})]})})};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){var t=a.useState(""),n=(0,i.Z)(t,2),s=n[0],c=n[1],d=a.useState(!1),p=(0,i.Z)(d,2),f=p[0],h=p[1],m=a.useState(""),v=(0,i.Z)(m,2),j=v[0],Z=v[1],b=a.useState(!1),S=(0,i.Z)(b,2),F=S[0],z=S[1],R=a.useState([]),L=(0,i.Z)(R,2),q=L[0],D=L[1],B=a.useState([]),V=(0,i.Z)(B,2),W=V[0],G=V[1],J=a.useState(""),Y=(0,i.Z)(J,2),H=Y[0],$=Y[1],Q=a.useState(""),K=(0,i.Z)(Q,2),ee=K[0],te=K[1],ne=a.useState(!1),re=(0,i.Z)(ne,2),ie=re[0],ae=re[1],oe=a.useState(void 0),se=(0,i.Z)(oe,2),ce=se[0],le=se[1],ue=a.useState([]),de=(0,i.Z)(ue,2),pe=de[0],fe=de[1],he=a.useState([]),me=(0,i.Z)(he,2),xe=me[0],ge=me[1],ye=a.useState(!0),ve=(0,i.Z)(ye,2),je=ve[0],Ze=ve[1],be=a.useState(""),Te=(0,i.Z)(be,2),Ce=Te[0],Se=Te[1],we=a.useState(""),Ie=(0,i.Z)(we,2),Oe=Ie[0],ke=Ie[1],Ee=(0,C.Z)(),_e=(0,P.TL)(),Ae=(0,T.Z)().clsxJoin,Pe=a.useContext(Ne);(0,a.useEffect)((function(){if(Pe.state.isModalOpen){var t=(0,A.e1)(e.entities,Pe.state.idForModal);$(t.categoryId),te(t.methodId),c(t.inputBaseValue),Z(t.outputVariableName),D((0,l.Z)(t.inputArgumentValue)),le(y.Classes.Search.getSpecificClasses(t.categoryId,t.methodId)),ke(t.childGroupId)}}),[Pe.state.isModalOpen]),(0,a.useEffect)((function(){var e=!1;[f,F,W.some((function(e){return!0===e})),ie,void 0!==(null===ce||void 0===ce?void 0:ce.inputType)&&!y.TextParser.isTypeNone(ce.inputType)&&""===s,void 0!==(null===ce||void 0===ce?void 0:ce.outputType)&&!y.TextParser.isTypeNone(ce.outputType)&&""===j,void 0!==(null===ce||void 0===ce?void 0:ce.argumentType)&&0!==ce.argumentType.length&&ce.argumentType.some((function(e,t){return e.require&&""===q[t].value})),""===H,""===ee].some((function(e){return!0===e}))&&(e=!0),Ze(e)}),[s,j,q,H,ee,f,F,W,ie]),(0,a.useEffect)((function(){var t=(0,A.n7)(e.root,e.current,Pe.state.idForModal),n=t.all,r=t.ago;fe(r),ge(n)}),[Pe.state.isModalOpen]);var Fe=function(){_e(P.r6.deleteNoDataCard()),Pe.reducer({type:"update",payload:X(X({},Pe.state),{},{isModalOpen:!1})})};return(0,r.jsxs)(M,{open:Pe.state.isModalOpen,onClose:Fe,style:{maxHeight:"80vh",maxWidth:"800px",width:"95vw"},children:[(0,r.jsx)("div",{style:{width:"100%"},className:Ee.positionRight,children:(0,r.jsx)(k.Z,{color:"secondary",size:"small",onClick:Fe,style:{padding:"1px"},children:(0,r.jsx)(E.Z,{fontSize:"small",children:"cancel"})})}),(0,r.jsx)(_.Z,{style:{paddingTop:"0px"},children:(0,r.jsxs)(o.Z,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:[(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)("div",{className:Ae(Ee.text_h5,Ee.text_primary),children:"\u8a2d\u5b9a\u5024\u767b\u9332"})}),(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(U,{inputCategory:H,setInputCategory:$,inputMethod:ee,setInputMethod:te,setError:ae,setClassesUpdater:function(e,t){if(""!==t){var n=y.Classes.Search.getSpecificClasses(e,t),r=void 0===(null===n||void 0===n?void 0:n.argumentType.length)?0:n.argumentType.length,i=null===n||void 0===n?void 0:n.argumentType.map((function(e){var t=q.find((function(t){return t.key===e.key}));return{key:e.key,value:void 0===t?"":t.value,isObject:e.isObject}}));le(n),D((0,l.Z)((0,w.isUndefined)(i)?[]:i)),G([].concat((0,l.Z)(W),(0,l.Z)(new Array(r).fill(!1).slice(0,r)))),h(!1),z(!1),G((function(e){return e.map((function(e){return!1}))}))}}})}),void 0!==(null===ce||void 0===ce?void 0:ce.inputType)&&!y.TextParser.isTypeNone(ce.inputType)&&(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(I,{variableList:pe,acceptType:null===ce||void 0===ce?void 0:ce.inputType,input:s,setInput:c,label:"\u5165\u529b\u5024",error:f,setError:h})}),void 0!==(null===ce||void 0===ce?void 0:ce.outputType)&&!y.TextParser.isTypeNone(null===ce||void 0===ce?void 0:ce.outputType)&&(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(N,{variableList:xe,acceptType:null===ce||void 0===ce?void 0:ce.outputType,input:j,setInput:Z,label:"\u51fa\u529b\u5148\u540d\u6307\u5b9a\uff08\u5909\u6570\u540d\uff09",error:F,setError:z})}),0!==(null===ce||void 0===ce?void 0:ce.argumentType.length)&&void 0!==(null===ce||void 0===ce?void 0:ce.argumentType.length)&&(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)("div",{className:Ae(Ee.text_body,Ee.text_secondary),children:"\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc"})}),0!==(null===ce||void 0===ce?void 0:ce.argumentType.length)&&void 0!==(null===ce||void 0===ce?void 0:ce.argumentType.length)&&(null===ce||void 0===ce?void 0:ce.argumentType.map((function(e,t){return(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(O,{variableList:pe,acceptType:e.type,input:q,setInput:D,isMultiline:e.isMultiLine,require:e.require,label:"\u5f15\u6570-".concat(t," (").concat(e.name,"/").concat(e.type.parent).concat(e.type.child===g.default.NONE?"":" "+e.type.child,")"),error:W,setError:G,currentIndex:t})},t)}))),(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(x.Z,{variant:"outlined",color:"secondary",fullWidth:!0,onBlur:function(e){return Se(e.currentTarget.value)},label:"\u30b3\u30e1\u30f3\u30c8",required:!1,placeholder:"\u30e1\u30e2\u30fbTODO\u7b49\u81ea\u7531\u8a18\u8ff0\u6b04"})}),(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){if((0,w.isUndefined)(ce))console.error("currentClasses is undefined","ModalFormContainer","->","handleSubmit");else{var t=ce.hasNest&&""===Oe?(0,A.V9)(e.root):Oe;ce.hasNest&&""===Oe&&_e(P.r6.createGroup({groupId:t})),_e(P.r6.update({id:Pe.state.idForModal,categoryId:ce.categoryId,methodId:ce.methodId,inputBaseValue:s,inputArgumentValue:q,outputVariableName:j,comment:Ce,childGroupId:t})),Pe.reducer({type:"update",payload:{idForModal:"",isModalOpen:!1}})}},disabled:je,children:"\u767b\u9332"})})]})})]})};function H(){var e=(0,P.TL)(),t=(0,C.Z)();return(0,r.jsx)("div",{className:t.positionCentering,children:(0,r.jsx)(u.Z,{color:"secondary",variant:"outlined",fullWidth:!0,onClick:function(){e(P.r6.movePrevWindow())},children:"1\u3064\u4e0a\u306b\u623b\u308b"})})}var $=n(5517),Q=(0,z.Z)((function(e){return(0,R.Z)({ListItemCardActionButtons:{margin:"0em 0.5em 0.5em",color:e.palette.text.secondary,backgroundColor:e.palette.background.default}})})),K="up",ee="down",te="close",ne="nest";function re(e){var t=(0,P.TL)(),n=(0,C.Z)(),i=Q(),a=function(n){switch(n.currentTarget.getAttribute("data-flag")){case K:return t(P.r6.swapUp({id:e.id}));case ee:return t(P.r6.swapDown({id:e.id}));case te:return e.systemClasses.hasNest&&t(P.r6.deleteGroup({groupId:e.childGroup})),t(P.r6.remove({id:e.id}));case ne:return t(P.r6.moveNextWindow({currentGroupId:e.childGroup,currentParentCardId:e.id,currentParentGroupId:e.currentGroup.currentGroupId,argsFromParent:[{type:e.systemClasses.inputType.parent===g.default.ARRAY2?{parent:g.default.ARRAY,child:e.systemClasses.inputType.child}:{parent:e.systemClasses.inputType.child,child:g.default.NONE},remark:"\u89aa\u30b0\u30eb\u30fc\u30d7\u304b\u3089\u306e\u5f15\u6570\u5024:".concat(e.systemClasses.inputType.parent===g.default.ARRAY2?"".concat(g.default.ARRAY,".").concat(e.systemClasses.inputType.child):"".concat(e.systemClasses.inputType.child)),label:"variable",name:"".concat(e.childGroup,"Value")}]}));default:console.error("error",re.name,'\u6307\u5b9a\u3057\u305f\u8981\u7d20 "data-flag" \u304c\u3042\u308a\u307e\u305b\u3093')}};return(0,r.jsxs)("div",{style:{width:"100%"},className:n.positionRight,children:[e.systemClasses.hasNest&&(0,r.jsx)(u.Z,{className:i.ListItemCardActionButtons,variant:"text",size:"small",color:"secondary","data-flag":ne,onClick:a,children:"\uff1e\uff1e \u30cd\u30b9\u30c8\u3092\u958b\u304f"}),(0,r.jsx)(u.Z,{className:i.ListItemCardActionButtons,variant:"text",size:"small","data-flag":K,onClick:a,children:(0,r.jsx)(E.Z,{children:"expand_less"})}),(0,r.jsx)(u.Z,{className:i.ListItemCardActionButtons,variant:"text",size:"small","data-flag":ee,onClick:a,children:(0,r.jsx)(E.Z,{children:"expand_more"})}),(0,r.jsx)(u.Z,{variant:"text",size:"small","data-flag":te,className:i.ListItemCardActionButtons,onClick:a,children:(0,r.jsx)(E.Z,{children:"close"})})]})}function ie(e){var t=(0,P.TL)(),n=(0,C.Z)(),o=a.useContext(Ne),s=a.useState(!1),c=(0,i.Z)(s,2),l=c[0],u=c[1];a.useEffect((function(){l&&(u(!1),o.reducer({type:"update",payload:{idForModal:e.entities[e.index+1].id,isModalOpen:!0}}))}),[e.entities]);return(0,r.jsx)("div",{className:n.positionCentering,children:(0,r.jsx)(k.Z,{color:"secondary",onClick:function(){u(!0),t(P.r6.addBlankBox({position:e.index+1}))},children:(0,r.jsx)(E.Z,{children:"add_circle"})})})}var ae=(0,z.Z)((function(e){return(0,R.Z)({Title:{paddingTop:"1em",paddingBottom:"1em",paddingRight:"1em"},Content:{padding:"1em"},ContentTable:{},ContentTableTd1:{padding:"0.4em"},ContentTableTd2:{padding:"0.4em"}})}));function oe(e){var t,n=(0,C.Z)(),i=ae(),s=a.useContext(Ne);return(0,r.jsx)("div",{"data-id":e.currentClasses.id,onClick:function(){s.reducer({type:"update",payload:{idForModal:e.currentClasses.id,isModalOpen:!0}})},className:n.card_basic,children:(t=y.Classes.Search.getSpecificClasses(e.currentClasses.categoryId,e.currentClasses.methodId),null===t||void 0===t?(0,r.jsx)("div",{}):(0,r.jsxs)(a.Fragment,{children:[(0,r.jsxs)(o.Z,{container:!0,children:[(0,r.jsx)(o.Z,{item:!0,xs:2,children:(0,r.jsx)("div",{className:n.positionCentering,children:(0,r.jsx)(E.Z,{fontSize:"large",children:"event_available"})})}),(0,r.jsx)(o.Z,{item:!0,xs:1,children:(0,r.jsx)($.Z,{orientation:"vertical"})}),(0,r.jsx)(o.Z,{item:!0,xs:9,children:(0,r.jsx)(h.Z,{primary:t.methodName,secondary:t.methodDescription,className:i.Title})})]}),(0,r.jsx)($.Z,{}),(0,r.jsx)("div",{className:i.Content,children:(0,r.jsx)("table",{className:i.ContentTable,children:(0,r.jsxs)("tbody",{children:[""!==e.currentClasses.inputBaseValue&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:i.ContentTableTd1,children:(0,r.jsx)("div",{className:n.text_body,children:"\u5165\u529b\u5024"})}),(0,r.jsx)("td",{className:i.ContentTableTd2,children:e.currentClasses.inputBaseValue})]}),""!==e.currentClasses.outputVariableName&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:i.ContentTableTd1,children:(0,r.jsx)("div",{className:n.text_body,children:"\u51fa\u529b\u5909\u6570\u540d"})}),(0,r.jsx)("td",{className:i.ContentTableTd2,children:e.currentClasses.outputVariableName})]}),e.currentClasses.inputArgumentValue.filter((function(e){return""!==e.value})).map((function(e,t){return(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{className:i.ContentTableTd1,children:["\u5f15\u6570-",e.key]}),(0,r.jsxs)("td",{className:i.ContentTableTd2,children:["= ",e.value]})]},t)})),""!==e.currentClasses.comment&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:i.ContentTableTd1,children:(0,r.jsx)("div",{className:n.text_body,children:"\u30b3\u30e1\u30f3\u30c8"})}),(0,r.jsx)("td",{className:i.ContentTableTd2,children:e.currentClasses.comment})]})]})})})]}))})}function se(e){return(0,r.jsx)(p.Z,{children:e.entities.map((function(t,n){var i=y.Classes.Search.getSpecificClasses(t.categoryId,t.methodId);return(0,w.isUndefined)(i)?(0,r.jsx)("div",{},n):(0,r.jsxs)(o.Z,{container:!0,alignItems:"center",justify:"center",children:[(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(re,{id:t.id,childGroup:t.childGroupId,currentGroup:e.currentGroup,systemClasses:i})}),(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(oe,{currentClasses:t})}),(0,r.jsx)(o.Z,{item:!0,xs:5,children:(0,r.jsx)($.Z,{variant:"middle"})}),(0,r.jsx)(o.Z,{item:!0,xs:2,children:(0,r.jsx)(ie,{id:t.id,index:n,entities:e.entities})}),(0,r.jsx)(o.Z,{item:!0,xs:5,children:(0,r.jsx)($.Z,{variant:"middle"})})]},n)}))})}var ce=n(4837),le=n(809),ue=n.n(le),de=n(2447),pe=n(5477);function fe(e){var t=(0,C.Z)();return(0,r.jsx)("div",{children:e.loadFlag?(0,r.jsx)("div",{className:t.positionFixedCentering,style:{zIndex:9995,backgroundColor:"rgba(255, 255, 255, 0.7)",width:"100vw",height:"100vh"},children:(0,r.jsx)("div",{className:t.positionFixedCentering,children:(0,r.jsx)(pe.Z,{color:"secondary",style:{zIndex:9999,opacity:1,margin:"2em"}})})}):(0,r.jsx)("div",{})})}var he=function(e){var t=a.useState(!1),n=(0,i.Z)(t,2),s=n[0],c=n[1],l=a.useState(""),d=(0,i.Z)(l,2),p=d[0],f=d[1],h=a.useState(!1),g=(0,i.Z)(h,2),y=g[0],v=g[1],j=(0,T.Z)().clsxJoin,Z=(0,C.Z)(),b=a.useRef();(0,a.useEffect)((function(){var t=!0;return s||fetch("https://".concat(document.domain,"/api/generate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.entities)}).then(function(){var e=(0,de.Z)(ue().mark((function e(n){var r;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:r=e.sent,t&&(f(r.body),v(!0),t=!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)})),c(!0),function(){t=!1}}),[]);var S=function(){f(""),v(!1),e.setIsOpen(!1)};return(0,r.jsx)(F.Z,{open:e.isOpen,onClose:S,children:(0,r.jsxs)("div",{className:j(Z.card_basic,Z.positionFixedCentering),style:{width:"90vw"},children:[(0,r.jsx)(fe,{loadFlag:""===p&&!y}),(0,r.jsx)(m.Z,{in:""!==p||y,unmountOnExit:!0,children:(0,r.jsxs)(o.Z,{container:!0,direction:"column",spacing:3,children:[(0,r.jsx)(o.Z,{item:!0,children:(0,r.jsx)(x.Z,{value:p,onChange:function(e){f(e.currentTarget.value)},color:"secondary",rows:5,rowsMax:10,multiline:!0,fullWidth:!0,variant:"outlined",inputRef:b,style:{marginBottom:"1em"}})}),(0,r.jsx)(o.Z,{item:!0,children:(0,r.jsxs)(ce.Z,{variant:"contained",fullWidth:!0,children:[(0,r.jsx)(u.Z,{color:"secondary",onClick:function(){var e;null===(e=b.current)||void 0===e||e.select(),document.execCommand("copy"),alert("\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f")},children:"\u30b3\u30d4\u30fc"}),(0,r.jsx)(u.Z,{color:"secondary",onClick:S,children:"\u9589\u3058\u308b"})]})}),(0,r.jsx)(o.Z,{item:!0,children:(0,r.jsxs)(o.Z,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:[(0,r.jsxs)(o.Z,{item:!0,xs:4,children:[(0,r.jsx)("div",{className:Z.positionCentering,style:{width:"100%"},children:(0,r.jsx)(k.Z,{onClick:function(){window.open("https://drive.google.com/drive")},children:(0,r.jsx)(E.Z,{color:"secondary",fontSize:"large",children:"folder_open"})})}),(0,r.jsx)("div",{className:j(Z.text_body,Z.text_align,Z.text_secondary),children:"\u30c9\u30e9\u30a4\u30d6\u3092\u958b\u304f"})]}),(0,r.jsxs)(o.Z,{item:!0,xs:4,children:[(0,r.jsx)("div",{className:Z.positionCentering,style:{width:"100%"},children:(0,r.jsx)(k.Z,{onClick:function(){window.open("https://script.new/")},children:(0,r.jsx)(E.Z,{color:"secondary",fontSize:"large",children:"code"})})}),(0,r.jsx)("div",{className:j(Z.text_body,Z.text_align,Z.text_secondary),children:"\u65b0\u898f\u30b9\u30af\u30ea\u30d7\u30c8"})]}),(0,r.jsxs)(o.Z,{item:!0,xs:4,children:[(0,r.jsx)("div",{className:Z.positionCentering,style:{width:"100%"},children:(0,r.jsx)(k.Z,{onClick:function(){window.open("https://spreadsheet.new/")},children:(0,r.jsx)(E.Z,{color:"secondary",fontSize:"large",children:"border_all"})})}),(0,r.jsx)("div",{className:j(Z.text_body,Z.text_align,Z.text_secondary),children:"\u65b0\u898f\u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8"})]})]})})]})})]})})};function me(e){var t=a.useState(!1),n=(0,i.Z)(t,2),o=n[0],s=n[1],c=a.useContext(Ne),l=(0,P.TL)(),d=a.useState(!1),p=(0,i.Z)(d,2),f=p[0],h=p[1];a.useEffect((function(){o&&(s(!1),c.reducer({type:"update",payload:{idForModal:e.entities[0].id,isModalOpen:!0}}))}),[o]);return(0,r.jsxs)(a.Fragment,{children:[0===e.entities.length?(0,r.jsx)(u.Z,{color:"secondary",variant:"contained",fullWidth:!0,onClick:function(){l(P.r6.addBlankBox({position:0})),s(!0)},children:"\u4f5c\u6210\u958b\u59cb"}):(0,r.jsxs)(ce.Z,{color:"secondary",variant:"contained",fullWidth:!0,children:[(0,r.jsx)(u.Z,{onClick:function(){h(!0)},children:"\u30b3\u30fc\u30c9\u51fa\u529b"}),(0,r.jsx)(u.Z,{onClick:function(){var t=new Date,n="".concat(t.getFullYear()).concat(t.getMonth()).concat(t.getDate()).concat(t.getHours()).concat(t.getMinutes()).concat(t.getMinutes(),"_").concat((0,v.L$)(),".json"),r=new Blob([JSON.stringify(e.root)],{type:"text/json"}),i=document.createElement("a");document.body.appendChild(i),i.href=window.URL.createObjectURL(r),i.setAttribute("download",n),i.click(),document.body.removeChild(i),alert("\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3092\u884c\u3044\u307e\u3057\u305f\u3002")},children:"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8"})]}),f&&(0,r.jsx)(he,{isOpen:f,setIsOpen:h,entities:e.root})]})}var xe=n(3832),ge=(0,z.Z)((function(e){return(0,R.Z)({listContainer:{maxHeight:"15em",overflow:"scroll",overflowX:"hidden",borderRadius:e.shape.borderRadius,boxShadow:e.shadows[2]}})}));function ye(e){var t=ge().listContainer,n=function(t){var n=t.currentTarget.getAttribute("data-key");e.action(n)};return(0,r.jsx)(p.Z,{className:t,children:e.itemTexts.map((function(e,t){return(0,r.jsxs)(f.Z,{divider:!0,button:!0,"data-key":e.v,dense:!0,onClick:n,children:[(0,r.jsx)(D.Z,{children:(0,r.jsx)(q.Z,{children:(0,r.jsx)(E.Z,{fontSize:"small",children:e.i})})}),(0,r.jsx)(h.Z,{primary:e.p,secondary:e.s})]},t)}))})}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze=(0,z.Z)((function(e){return(0,R.Z)({Title:{paddingTop:"1em",paddingBottom:"1em",paddingRight:"1em"}})}));function be(e){var t=(0,C.Z)(),n=(0,T.Z)().clsxJoin;return(0,r.jsx)(a.Fragment,{children:(0,r.jsxs)(o.Z,{item:!0,xs:12,children:[(0,r.jsx)(x.Z,{variant:"outlined",fullWidth:!0,value:e.value,name:"\u8a2d\u5b9a\u5024".concat(e.index),label:e.placeHolder,color:"secondary",error:""!==e.error,placeholder:e.placeHolder,onChange:function(t){e.setValue(t.currentTarget.value)},onBlur:e.onBlur}),""!==e.error&&(0,r.jsx)("div",{className:n(t.text_remark,t.text_error),children:e.error})]})})}function Te(e){var t=(0,C.Z)(),n=(0,T.Z)().clsxJoin;return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)("div",{className:n(t.text_h6,t.text_align,t.text_secondary),children:e.title})}),(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(h.Z,{primary:e.subTitle,secondary:e.currentItem,style:{marginLeft:"0.1em"}})}),(0,r.jsxs)(o.Z,{item:!0,xs:12,children:[(0,r.jsx)("div",{className:n(t.text_body,t.text_secondary),children:"\u4ee5\u4e0b\u3088\u308a\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044"}),(0,r.jsx)(ye,{itemTexts:e.options,action:e.action})]})]})}function Ce(e){var t=(0,P.CG)((function(e){return e.editers.RunOptions})),n=(0,P.TL)(),s={getUniqueCategories:function(e){return(0,l.Z)(new Set(e.map((function(e){return e.categoryId})))).map((function(t){return e.find((function(e){return t===e.categoryId}))}))},buttonIsDisabledLogic:function(e,t,n,r){return[""===(null===e||void 0===e?void 0:e.categoryId),""===(null===e||void 0===e?void 0:e.methodId),t&&(null===t||void 0===t?void 0:t.frequency1Argument)&&""===e.frequency1Argument,t&&(null===t||void 0===t?void 0:t.frequency2Argument)&&""===e.frequency2Argument,t&&(null===t||void 0===t?void 0:t.frequency1Argument)&&""!==n,t&&(null===t||void 0===t?void 0:t.frequency2Argument)&&""!==r].some((function(e){return e}))}},c=s.buttonIsDisabledLogic,d=s.getUniqueCategories,p=a.useState(y.OptionClasses.RunOptions),f=(0,i.Z)(p,1)[0],h=a.useState([]),m=(0,i.Z)(h,2),x=m[0],g=m[1],v=a.useState(void 0),j=(0,i.Z)(v,2),Z=j[0],b=j[1],T=a.useState(""),C=(0,i.Z)(T,2),S=C[0],w=C[1],I=a.useState(""),N=(0,i.Z)(I,2),O=N[0],k=N[1],E=a.useState(""),A=(0,i.Z)(E,2),F=A[0],z=A[1],R=a.useState(""),L=(0,i.Z)(R,2),q=L[0],D=L[1];a.useEffect((function(){void 0!==t&&(""!==t.categoryId&&g(f.filter((function(e){return e.categoryId===t.categoryId}))),""!==t.methodId&&b(f.filter((function(e){return e.categoryId===t.categoryId})).find((function(e){return e.methodId===t.methodId}))),k(t.frequency2Argument),w(t.frequency1Argument))}),[]);var B=function(e){e.reg.test(e.input)?(n(P.r6.updateRunOptionValue(e.db)),e.err("")):e.err("\u5165\u529b\u5024\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059 = "+Z.frequenct1ArgumentDescription)},V=function(e){"\u8a2d\u5b9a\u50241"===e.currentTarget.name?B({input:S,desc:Z.frequenct1ArgumentDescription,reg:Z.frequency1Argument,err:z,db:je(je({},t),{},{frequency1Argument:S})}):"\u8a2d\u5b9a\u50242"===e.currentTarget.name?B({input:O,desc:Z.frequenct2ArgumentDescription,reg:Z.frequency2Argument,err:D,db:je(je({},t),{},{frequency2Argument:O})}):console.error("is not defined ".concat(e.currentTarget.name,". -> ").concat(Ce.name))},W=function(){c(t,Z,F,q)&&n(P.r6.deleteRunOptionValue()),e.setOpenModal(!1)};return(0,r.jsx)(M,{open:e.openModal,onClose:W,style:{maxHeight:"80vh",maxWidth:"1000px"},children:(0,r.jsx)(_.Z,{children:(0,r.jsxs)(o.Z,{container:!0,spacing:2,children:[(0,r.jsx)(Te,{title:"\u30ea\u30b9\u30c8\u3088\u308a\u30ab\u30c6\u30b4\u30ea\u3092\u9078\u629e",subTitle:"\u73fe\u5728\u9078\u629e\u4e2d\u306e\u30ab\u30c6\u30b4\u30ea",options:d(f).map((function(e){return{p:e.categoryName,s:e.categoryDescription,v:e.categoryId,i:e.cardCategoryIcon}})),currentItem:0===x.length?"\u672a\u9078\u629e":x[0].categoryName,action:function(e){[w,k,z,D].forEach((function(e){return e("")})),n(P.r6.updateRunOptionValue(je(je({},t),{},{categoryId:e,methodId:"",frequency1Argument:"",frequency2Argument:""}))),g(f.filter((function(t){return t.categoryId===e}))),b(void 0)}}),t&&""!==(null===t||void 0===t?void 0:t.categoryId)&&(0,r.jsx)(Te,{title:"",subTitle:"\u73fe\u5728\u9078\u629e\u4e2d\u306e\u30c8\u30ea\u30ac\u30fc",options:x.map((function(e){return{p:e.methodName,s:e.methodDescription,v:e.methodId,i:e.cardCategoryIcon}})),currentItem:void 0===Z?"\u672a\u9078\u629e":Z.methodName,action:function(e){[w,k,z,D].forEach((function(e){return e("")})),n(P.r6.updateRunOptionValue(je(je({},t),{},{methodId:e,frequency1Argument:"",frequency2Argument:""}))),b(f.filter((function(e){return e.categoryId===t.categoryId})).find((function(t){return t.methodId===e})))}}),Z&&(null===Z||void 0===Z?void 0:Z.frequency1Argument)&&(0,r.jsx)(be,{index:"1",error:F,value:S,setValue:w,placeHolder:Z.frequenct1ArgumentDescription,onBlur:V}),Z&&(null===Z||void 0===Z?void 0:Z.frequency2Argument)&&(0,r.jsx)(be,{index:"2",error:q,value:O,setValue:k,placeHolder:Z.frequenct2ArgumentDescription,onBlur:V}),(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsxs)(ce.Z,{color:"secondary",fullWidth:!0,children:[(0,r.jsx)(u.Z,{onClick:function(){n(P.r6.deleteRunOptionValue()),W()},children:"\u8a2d\u5b9a\u3092\u6d88\u53bb\u3057\u3066\u9589\u3058\u308b"}),",",(0,r.jsx)(u.Z,{disabled:c(t,Z,F,q),onClick:W,children:"\u78ba\u5b9a"})]})})]})})})}function Se(){var e=(0,C.Z)(),t=Ze(),n=a.useState(!1),s=(0,i.Z)(n,2),c=s[0],l=s[1];return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)("div",{className:e.card_basic,onClick:function(){l(!0)},children:(0,r.jsxs)(o.Z,{container:!0,children:[(0,r.jsx)(o.Z,{item:!0,xs:2,children:(0,r.jsx)("div",{className:e.positionCentering,children:(0,r.jsx)(E.Z,{fontSize:"large",children:"power_settings_new"})})}),(0,r.jsx)(o.Z,{item:!0,xs:1,children:(0,r.jsx)($.Z,{orientation:"vertical"})}),(0,r.jsx)(o.Z,{item:!0,xs:9,children:(0,r.jsx)(h.Z,{primary:"\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u8d77\u52d5\u65b9\u6cd5",secondary:"\u5b9a\u671f\u5b9f\u884c\u3084\u6307\u5b9a\u6642\u9593\u5b9f\u884c\u8a2d\u5b9a\u3092\u3057\u307e\u3059",className:t.Title})})]})}),(0,r.jsx)(m.Z,{in:c,timeout:"auto",unmountOnExit:!0,children:(0,r.jsx)(Ce,{openModal:c,setOpenModal:l})})]})}var we=n(9008),Ie={idForModal:"",isModalOpen:!1},Ne=a.createContext({});function Oe(e,t){switch(t.type){case"update":return t.payload;default:throw(0,v.Td)("\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044Action\u304c\u6e21\u3055\u308c\u307e\u3057\u305f",Oe.name,ke.name)}}function ke(){var e=(0,P.CG)((function(e){return e.editers})),t=a.useReducer(Oe,Ie),n=(0,i.Z)(t,2),c=n[0],l=n[1],u=a.useState("root"),d=(0,i.Z)(u,2),p=d[0],f=d[1];return a.useEffect((function(){f((0,A.Xk)(e.current).currentGroupId)}),[e.current]),(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(we.default,{children:(0,r.jsxs)("title",{children:["Rapid.gs"," - \u7de8\u96c6\u753b\u9762|GAS \u30ed\u30fc\u30b3\u30fc\u30c9\u4f5c\u6210\u30a2\u30d7\u30ea"]})}),(0,r.jsx)(s.Z,{children:(0,r.jsx)(xe.Z,{maxWidth:"md",children:(0,r.jsxs)(Ne.Provider,{value:{state:c,reducer:l},children:[""!==c.idForModal&&(0,r.jsx)(Y,{entities:e.entities[p],root:e.entities,current:e.current}),(0,r.jsxs)(o.Z,{container:!0,spacing:3,style:{marginTop:"1em"},children:[(0,r.jsx)(o.Z,{item:!0,xs:12,children:1!==e.current.length?(0,r.jsx)(H,{}):(0,r.jsx)(Se,{})}),(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(se,{entities:e.entities[p],currentGroup:e.current[e.current.length-1]})}),(0,r.jsx)(o.Z,{item:!0,xs:12,children:(0,r.jsx)(me,{entities:e.entities[p],root:e})})]}),(0,r.jsx)("div",{style:{height:"1em"}})]})})})]})}},9380:function(e,t,n){"use strict";var r=n(6265),i=n(1120),a=n(5117);t.Z=(0,i.Z)((function(e){return(0,a.Z)({text_h1:(0,r.Z)({fontSize:e.typography.h2.fontSize,fontFamily:e.typography.h1.fontFamily,fontWeight:"bolder"},e.breakpoints.down("md"),{fontSize:e.typography.h3.fontSize}),text_h2:(0,r.Z)({fontSize:e.typography.h2.fontSize,fontFamily:e.typography.h2.fontFamily,fontWeight:"bolder"},e.breakpoints.down("md"),{fontSize:e.typography.h3.fontSize}),text_h3:(0,r.Z)({fontSize:e.typography.h3.fontSize,fontFamily:e.typography.h3.fontFamily,fontWeight:"bolder"},e.breakpoints.down("md"),{fontSize:e.typography.h4.fontSize}),text_h4:(0,r.Z)({fontSize:e.typography.h4.fontSize,fontFamily:e.typography.h4.fontFamily,fontWeight:"bolder"},e.breakpoints.down("md"),{fontSize:e.typography.h5.fontSize}),text_h5:(0,r.Z)({fontSize:e.typography.h5.fontSize,fontFamily:e.typography.h5.fontFamily,fontWeight:"bolder"},e.breakpoints.down("md"),{fontSize:e.typography.h6.fontSize}),text_h6:(0,r.Z)({fontSize:e.typography.h6.fontSize,fontFamily:e.typography.h6.fontFamily,fontWeight:"bolder"},e.breakpoints.down("md"),{fontSize:e.typography.subtitle1.fontSize}),text_body:(0,r.Z)({fontSize:e.typography.body1.fontSize,fontFamily:e.typography.body1.fontFamily},e.breakpoints.down("md"),{fontSize:e.typography.body2.fontSize}),text_remark:{fontSize:e.typography.caption.fontSize,fontFamily:e.typography.caption.fontFamily},text_align:{textAlign:"center"},text_error:{color:e.palette.error.main},text_secondary:{color:e.palette.text.secondary},text_primary:{color:e.palette.text.primary},text_noWrap:{whiteSpace:"nowrap",overflow:"scroll",overflowY:"hidden"},modalBasic:(0,r.Z)({width:"100%",backgroundColor:e.palette.background.paper,padding:"2em",borderRadius:"10px"},e.breakpoints.down("sm"),{padding:"0.5em"}),card_basic:(0,r.Z)({backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,boxShadow:e.shadows[3],padding:"2em"},e.breakpoints.down("sm"),{padding:"1em"}),positionCentering:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},positionRight:{display:"flex",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",width:"100%",height:"100%"},positionXCenterYBottom:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"flex-end",width:"100%",height:"100%"},positionXCenterYTop:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"flex-start",width:"100%",height:"100%"},positionFixedCentering:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},position_flex_col_y_centering:{display:"flex",flexWrap:"wrap",flex:"0 0 100%",justifyContent:"center",alignItems:"flexStart",flexDirection:"column",width:"100%",height:"100%"},"@keyframes SimpleFadeIn":{from:{opacity:0},to:{opacity:1}},transitionSimpleFadeIn:{animation:"$SimpleFadeIn",animationDuration:"1s",animationTimingFunction:e.transitions.easing.easeInOut},transitionFadeInDownPending:{opacity:0,transform:"translateY(-10vh)"},transitionFadeInUpPending:{opacity:0,transform:"translateY(10vh)"},transitionFadeInRightPending:{opacity:0,transform:"translateX(100vw)"},transitionFadeInLeftPending:{opacity:0,transform:"translateX(-100vw)"},transitionFadeInRun:{transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.complex,easing:e.transitions.easing.easeInOut}),opacity:1,transform:"translateX(0px)"},transitionFadeInEnd:{opacity:1,transform:"translateX(0px)"},contentSectionContainer:(0,r.Z)({maxWidth:e.breakpoints.values.md},e.breakpoints.down("sm"),{padding:e.spacing(1)}),rootContainer:{overflow:"hidden",width:"100%"},drawerContainer:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary},toolbar:e.mixins.toolbar})}))},9825:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/EditerPage",function(){return n(7433)}])}},function(e){e.O(0,[931,314,991,774,888,179],(function(){return t=9825,e(e.s=t);var t}));var t=e.O();_N_E=t}]);