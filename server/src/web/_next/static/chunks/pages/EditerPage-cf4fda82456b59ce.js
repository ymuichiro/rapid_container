(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[768],{9537:function(e,t,n){"use strict";var r=n(6835),i=n(9499),a=n(7294),o=n(9494),s=n(2822),c=n(998),l=n(2863),u=n(5757),d=n(6869),p=n(5258),f=n(8358),h=n(6967),m=n(2210),x=n(1120),g=n(5117),y=n(1163),v=n(3797),j=n(5893),Z=function(e){var t=[{name:"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8",href:"/",icon:"home"},{name:"\u3054\u5229\u7528\u898f\u7d04",href:"/TermsPage",icon:"assignment"},{name:"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30dd\u30ea\u30b7\u30fc",href:"/PrivacyPolicyPage",icon:"security"},{name:"\u304a\u554f\u3044\u5408\u308f\u305b",href:"/HelpPage",icon:"help_outline"},{name:"\u958b\u767a\u753b\u9762",href:"/",icon:"build"}];return e.isLogined?t.push({name:"\u30de\u30a4\u30da\u30fc\u30b8",href:"/MyPage",icon:"person"}):(t.push({name:"\u4f1a\u54e1\u767b\u9332",href:"/SignUpPage",icon:"person_add"}),t.push({name:"\u30ed\u30b0\u30a4\u30f3",href:"/SignInPage",icon:"person"})),t},b=(0,x.Z)((function(e){var t;return(0,g.Z)({toolbar:(t={height:56,paddingTop:4,paddingBottom:4},(0,i.Z)(t,"".concat(e.breakpoints.up("xs")," and (orientation: landscape)"),{height:48}),(0,i.Z)(t,e.breakpoints.up("sm"),{height:64}),t)})}));t.Z=function(e){var t=(0,o.Z)(),n=b(),i=a.useState(!1),x=(0,r.Z)(i,2),g=x[0],T=x[1],C=(0,v.CG)((function(e){return e.auth})),S=(0,v.TL)(),w=(0,y.useRouter)();return(0,j.jsxs)("div",{children:[(0,j.jsx)(p.Z,{position:"fixed",color:"primary",children:(0,j.jsxs)(f.Z,{children:[(0,j.jsx)("div",{className:n.toolbar,children:(0,j.jsx)("img",{style:{objectFit:"contain",height:"100%"},src:"https://lh3.googleusercontent.com/pw/ACtC-3f9V0NNZ1ksqKeXNHmed9tfg1yLQgzM1aKhSgVoz0yGXNPndqSZbaeach5hZXcNJ2JcDDSd0qb2yLtc2Oz436gJXt1Wedgn5npqTLPXqOCAfQPZwlLZ41m3WDdY5JOV1Q8n3hU7cOp_3tvm-tUwlQM=w200-h64-no?authuser=0",onClick:function(){w.push("/")},alt:"site logo",width:"100%",height:"100%"})}),(0,j.jsx)("div",{style:{flexGrow:1}}),C.isLogin&&(0,j.jsx)(h.Z,{color:"inherit",onClick:function(){S(v.Lt.updateLoginStatus(!1)),w.push("/SignInPage")},"aria-label":"logout",children:(0,j.jsx)(l.Z,{children:"exit_to_app"})}),(0,j.jsx)(h.Z,{color:"inherit",onClick:function(){return T(!g)},"aria-label":"open drawer",children:(0,j.jsx)(l.Z,{children:"menu"})})]})}),(0,j.jsx)(m.Z,{anchor:"top",open:g,onOpen:function(){return T(!0)},onClose:function(){return T(!1)},children:(0,j.jsx)(s.Z,{children:Z({isLogined:C.isLogin}).filter((function(e){return e.href!==w.pathname})).map((function(e,t){return(0,j.jsxs)(c.Z,{button:!0,onClick:function(){return w.push(e.href)},style:{width:"100%"},children:[(0,j.jsx)(d.Z,{children:(0,j.jsx)(l.Z,{color:"inherit",children:e.icon})}),(0,j.jsx)(u.Z,{color:"inherit",primary:e.name,style:{paddingRight:"5em"}})]},t)}))})}),(0,j.jsx)("div",{className:t.toolbar,style:{marginBottom:"1em"}}),e.children]})}},4844:function(e,t,n){"use strict";function r(){return{clsxJoin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(" ")},clsxSwitch:function(e,t,n){return n?e:t},switchPhotoSize:function(e,t){return"".concat(e,t?"=w600?authuser=0":"=w1920?authuser=0")}}}n.d(t,{Z:function(){return r}})},2276:function(e,t,n){"use strict";n.r(t),n.d(t,{EditerListContext:function(){return Oe},default:function(){return Ee}});var r=n(6835),i=n(7294),a=n(1749),o=n(9537),s=n(9499),c=n(7812),l=n(282),u=n(7397),d=n(2822),p=n(998),f=n(5757),h=n(6037),m=n(4212),x=n(3404),g=n(9756),y=n(2772),v=function(e,t,n){return e.map((function(e){if(""===e)return{error:!1,message:""};if("\uff0b"===e||"\u30fc"===e||"\u2015"===e||"\uff0d"===e)return{error:!0,message:"\u8a18\u53f7".concat(e,"\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002\u534a\u89d2\u304b\u3001\u6b63\u3057\u3044\u8a18\u53f7\u304b\u78ba\u8a8d\u4e0b\u3055\u3044\u3002")};if(g.TextParser.isVariable(e)&&null===t.find((function(t){return t.name===e})))return{error:!0,message:'\u5165\u529b\u3055\u308c\u305f\u5909\u6570"'.concat(e,'"\u304c\u5b58\u5728\u3057\u307e\u305b\u3093')};var r;if(!g.TextParser.isOperator(e)&&g.TextParser.isVariable(e)&&!g.TextParser.isType(null===(r=t.find((function(t){return e.replace(/\$/g,"")===t.name})))||void 0===r?void 0:r.type,n))return{error:!0,message:"\u5165\u529b\u3055\u308c\u305f\u5909\u6570\u300c".concat(e,"\u300d\u306f\u300c").concat(null===n||void 0===n?void 0:n.parent).concat((null===n||void 0===n?void 0:n.child)===x.default.NONE?"":" "+(null===n||void 0===n?void 0:n.child),"\u300d\u3067\u306f\u3042\u308a\u307e\u305b\u3093")};if(!g.TextParser.isOperator(e)&&!g.TextParser.isVariable(e)){var i="\u5165\u529b\u3055\u308c\u305f\u5024\u300c".concat(e,"\u300d\u306f\u300c").concat(null===n||void 0===n?void 0:n.parent).concat((null===n||void 0===n?void 0:n.child)===x.default.NONE?"":" "+(null===n||void 0===n?void 0:n.child),"\u300d\u3067\u306f\u3042\u308a\u307e\u305b\u3093");if(g.TextParser.isTypeANYANY(n))return{error:!1,message:""};if(g.TextParser.isTypeDate(n)){if("Invalid Date"===new Date(e).toString())return{error:!0,message:i}}else if(g.TextParser.isTypeNumber(n)){if("NaN"===Number(e).toString())return{error:!0,message:i}}else if(g.TextParser.isTypeBoolean(n)){if("true"!==e&&"false"!==e)return{error:!0,message:i}}else if(g.TextParser.isTypeIfOperator(n)){if(!g.TextParser.isIFOperator(e))return{error:!0,message:i}}else if(g.TextParser.isTypeString(n)){if("string"!==typeof e)return{error:!0,message:i};if(!g.TextParser.isFormatString(e))return{error:!0,message:i}}}return{error:!1,message:""}}))},j=function(e,t){return e.map((function(e){return g.TextParser.isOperator(e)||g.TextParser.isVariable(e)||g.TextParser.isTypeANYANY(t)?e:"string"===typeof e&&""!==e&&!g.TextParser.isFormatString(e)&&g.TextParser.isTypeString(t)?g.TextParser.addStringSymbol(e).replace(/\s/g,""):e}))},Z=function e(t){if("variable"===t.label)return g.TextParser.addVariableSymbol(t.name);if("template"===t.label)return t.name;throw(0,y.Td)("\u6307\u5b9a\u3055\u308c\u305fVariableList\u306b\u672a\u5b9a\u7fa9\u306e\u578b\u304c\u5b58\u5728\u3057\u307e\u3059",e.name)},b=n(4844),T=n(9494),C=n(5893),S=function(e){var t=(0,T.Z)(),n=(0,b.Z)().clsxJoin;return(0,C.jsx)("div",{className:n(t.text_body,t.text_secondary),style:{width:"100%"},children:e.children})},w=n(6372),I=function(e){var t,n=i.useState([]),a=(0,r.Z)(n,2),o=a[0],s=a[1],y=i.useState(!1),b=(0,r.Z)(y,2),T=b[0],I=b[1],N=i.useState(NaN),O=(0,r.Z)(N,2),k=O[0],E=O[1],_=i.useState(""),A=(0,r.Z)(_,2),P=A[0],F=A[1],z=i.useState(""),R=(0,r.Z)(z,2),L=R[0],M=R[1],q=i.useState([]),D=(0,r.Z)(q,2),B=D[0],V=D[1],W=i.useRef();(0,i.useEffect)((function(){if(I(!1),s([].concat()),F(""),""!==e.input&&void 0!==W.current){var t=j(W.current.value.replace(/\s/g,"").split(/(\+|-)/g),e.acceptType);if(""!==t.join("")){var n=v(t,e.variableList,e.acceptType);n.every((function(e){return!e.error}))?(V([].concat()),e.setInput(t.join("").replace(/(\+|-)$/g,"")),e.setError(!1)):(V((0,c.Z)(n.filter((function(e){return e.error})).map((function(e){return e.message})))),e.setError(!0))}}}),[e.acceptType]),(0,i.useEffect)((function(){var e=W.current;"NaN"!==k.toString()&&e.setSelectionRange(k,k)}),[k]),(0,i.useEffect)((function(){""!==L&&s((function(e){return e.filter((function(e){return-1!==e.name.indexOf(L)}))}))}),[L]),(0,i.useEffect)((function(){var e=!0;return T&&0===o.length&&(I(!1),V(["\u4e00\u81f4\u3059\u308b\u5909\u6570\u304c\u3042\u308a\u307e\u305b\u3093"].concat((0,c.Z)(B))),setTimeout((function(){e&&V((0,c.Z)(B))}),2e3)),function(){e=!1}}),[o]);var G=function(t){var n=W.current,r=t.currentTarget.getAttribute("data-name"),i=t.currentTarget.getAttribute("data-label"),a=JSON.parse(t.currentTarget.getAttribute("data-type")),o=null===n.selectionStart?0:n.selectionStart,c=Z({name:r,label:i,type:a,remark:""});e.setInput("".concat(P.substr(0,o)).concat(0===o?"":" ").concat(c," ").concat(P.substr(o))),I(!1),E("".concat(P.substr(0,o)).concat(0===o?"":" ").concat(c," ").length),s([].concat()),F(""),n.focus()};return(0,C.jsxs)("div",{children:[(0,C.jsx)(m.Z,{value:e.input,variant:"outlined",color:"secondary",fullWidth:!0,onChange:function(t){var n=t.currentTarget,r=n.selectionStart,i=n.value;T&&null!==r&&M((function(e){return"".concat(e).concat(i.substr(r-1,1))})),e.setError(!1),e.setInput(i)},onBlur:function(t){var n=j(t.currentTarget.value.replace(/\s/g,"").split(/(\+|-)/g),e.acceptType);if(""!==n.join("")){var r=v(n,e.variableList,e.acceptType);r.every((function(e){return!e.error}))?(V([].concat()),e.setInput(n.join("").replace(/(\+|-)$/g,"")),e.setError(!1)):(V((0,c.Z)(r.filter((function(e){return e.error})).map((function(e){return e.message})))),e.setError(!0))}},onKeyDown:function(e){T&&["Backspace","Delete","ArrowLeft","ArrowUp","ArrowDown","ArrowRight"].some((function(t){return t===e.key}))&&(I(!1),s([].concat()),F(""))},inputRef:W,label:"".concat(e.label).concat((0,w.isUndefined)(e.acceptType)?"":" "+e.acceptType.parent.toString()).concat((0,w.isUndefined)(e.acceptType)||e.acceptType.child===x.default.NONE?"":" "+(null===(t=e.acceptType)||void 0===t?void 0:t.child.toString())),required:void 0!==e.acceptType,disabled:void 0===e.acceptType,placeholder:void 0===e.acceptType?"\u30ab\u30c6\u30b4\u30ea\u30fb\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u9078\u629e":"\u5909\u6570\u306e\u633f\u5165\u306f\u53f3\u306e\u30dc\u30bf\u30f3\u304b\u3089\u884c\u3044\u307e\u3059",error:0!==B.length,InputProps:{endAdornment:(0,C.jsx)(u.Z,{position:"end",children:(0,C.jsx)(l.Z,{variant:"contained",color:T?"primary":"secondary",size:"medium",onClick:function(t){var n=W.current,r=null===n.selectionStart?0:n.selectionStart;T?(s([].concat()),F("")):(e.setInput((function(e){return"".concat(e.substr(0,r)).concat(e.substr(r))})),s((0,c.Z)(e.variableList.filter((function(t){return g.TextParser.isType(t.type,e.acceptType)})))),F(n.value)),M(""),E(r),I(!T),n.focus()},style:{width:"5em"},children:T?"\u9589\u3058\u308b":"\u5909\u6570\u633f\u5165"})})}}),(0,C.jsx)(h.Z,{in:0!==B.length,exit:0===B.length,unmountOnExit:!0,children:B.map((function(e,t){return(0,C.jsx)(S,{children:e},t)}))}),(0,C.jsx)(h.Z,{in:0!==o.length,unmountOnExit:!0,children:(0,C.jsx)(d.Z,{style:{maxHeight:"20em",overflow:"scroll",overflowX:"hidden"},children:o.map((function(e,t){return(0,C.jsx)(p.Z,{divider:!0,button:!0,"data-name":e.name,"data-label":e.label,"data-type":JSON.stringify(e.type),onClick:G,children:(0,C.jsx)(f.Z,{primary:e.name,secondary:"(".concat(e.label,") ").concat(e.type.parent," ").concat(e.type.child===x.default.NONE?"":e.type.child)})},t)}))})})]})},N=function(e){var t,n=i.useState([]),a=(0,r.Z)(n,2),o=a[0],s=a[1],c=i.useRef();(0,i.useEffect)((function(){var t,n=null===(t=c.current)||void 0===t?void 0:t.value;if(void 0!==n&&""!==n){var r=[],i=g.TextParser.isCorrectFormatOfVariable(n),a=e.variableList.find((function(e){return e===n}));i.err&&r.push(i.message),void 0!==a&&r.push("\u5909\u6570\u540d\u300c".concat(n,"\u300d\u306f\u65e2\u306b\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059")),s(r),e.setError(0!==r.length)}}),[e.acceptType]);return(0,C.jsxs)("div",{children:[(0,C.jsx)(m.Z,{fullWidth:!0,value:e.input,variant:"outlined",color:"secondary",inputRef:c,required:void 0!==e.acceptType&&!g.TextParser.isTypeNone(e.acceptType),onChange:function(t){e.setInput(t.currentTarget.value.replace(/\s/g,"")),e.setError(!1)},onBlur:function(t){var n=[],r=g.TextParser.isCorrectFormatOfVariable(t.currentTarget.value),i=e.variableList.find((function(e){return e===t.currentTarget.value}));r.err&&n.push(r.message),void 0!==i&&n.push("\u5909\u6570\u540d\u300c".concat(t.currentTarget.value,"\u300d\u306f\u65e2\u306b\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059")),s(n),e.setError(0!==n.length)},label:"".concat(e.label).concat((0,w.isUndefined)(e.acceptType)?"":" "+e.acceptType.parent.toString()).concat((0,w.isUndefined)(e.acceptType)||e.acceptType.child===x.default.NONE?"":" "+(null===(t=e.acceptType)||void 0===t?void 0:t.child.toString())),disabled:void 0===e.acceptType&&!(0,w.isTypeNone)(e.acceptType),placeholder:void 0!==e.acceptType||(0,w.isTypeNone)(e.acceptType)?"\u5024\u306e\u4fdd\u5b58\u5148\u540d\uff08\u5909\u6570\u540d\uff09\u3092\u6307\u5b9a\u3057\u307e\u3059":"\u30ab\u30c6\u30b4\u30ea\u30fb\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u9078\u629e",error:0!==o.length}),(0,C.jsx)(h.Z,{in:0!==o.length,exit:0===o.length,unmountOnExit:!0,children:o.map((function(e,t){return(0,C.jsx)(S,{children:e},t)}))})]})},O=function(e){var t=i.useState(""),n=(0,r.Z)(t,2),a=n[0],o=n[1],s=i.useState(!1),y=(0,r.Z)(s,2),b=y[0],T=y[1],w=i.useState([]),I=(0,r.Z)(w,2),N=I[0],O=I[1],k=i.useState(!1),E=(0,r.Z)(k,2),_=E[0],A=E[1],P=i.useState(NaN),F=(0,r.Z)(P,2),z=F[0],R=F[1],L=i.useState(""),M=(0,r.Z)(L,2),q=M[0],D=M[1],B=i.useState(""),V=(0,r.Z)(B,2),W=V[0],G=V[1],U=i.useState([]),J=(0,r.Z)(U,2),X=J[0],Y=J[1],H=i.useRef();(0,i.useEffect)((function(){void 0!==e.input[e.currentIndex].value&&null!==e.input[e.currentIndex].value&&o(e.input[e.currentIndex].value)}),[]),(0,i.useEffect)((function(){A(!1),O([].concat()),D("")}),[e.acceptType]),(0,i.useEffect)((function(){var e=H.current;"NaN"!==z.toString()&&e.setSelectionRange(z,z)}),[z]),(0,i.useEffect)((function(){""!==W&&O((function(e){return e.filter((function(e){return-1!==e.name.indexOf(W)}))}))}),[W]),(0,i.useEffect)((function(){_&&0===N.length&&(A(!1),Y(["\u4e00\u81f4\u3059\u308b\u5909\u6570\u304c\u3042\u308a\u307e\u305b\u3093"].concat((0,c.Z)(X))),setTimeout((function(){Y((0,c.Z)(X))}),2e3))}),[N]);var $=function(t){var n=H.current,r=t.currentTarget.getAttribute("data-name"),i=t.currentTarget.getAttribute("data-label"),a=JSON.parse(t.currentTarget.getAttribute("data-type")),s=null===n.selectionStart?0:n.selectionStart,c=Z({name:r,label:i,type:a,remark:""}),l="".concat(q.substr(0,s)).concat(0===s?"":" ").concat(c," ").concat(q.substr(s));o(l),e.setInput((function(t){return t.map((function(t,n){return n===e.currentIndex?{key:t.key,value:l,isObject:t.isObject}:t})).concat()})),A(!1),R("".concat(q.substr(0,s)).concat(0===s?"":" ").concat(c," ").length),O([].concat()),D(""),n.focus()};return(0,C.jsxs)("div",{children:[(0,C.jsx)(m.Z,{value:a,variant:"outlined",color:"secondary",fullWidth:!0,onChange:function(t){var n=t.currentTarget,r=n.selectionStart,i=n.value;_&&null!==r&&G((function(e){return"".concat(e).concat(i.substr(r-1,1))})),o(i),e.setError((function(t){return t.map((function(t,n){return n!==e.currentIndex&&t}))}))},onBlur:function(t){var n=j(t.currentTarget.value.replace(/\s/g,"").split(/(\+|-)/g),e.acceptType);if(""!==n.join("")){var r=v(n,e.variableList,e.acceptType);r.every((function(e){return!e.error}))?(Y([].concat()),o(n.join("").replace(/(\+|-)$/g,"")),T(!1),e.setInput((function(t){return t.map((function(t,r){return r===e.currentIndex?{key:t.key,value:n.join("").replace(/(\+|-)$/g,""),isObject:t.isObject}:t})).concat()})),e.setError((function(t){return t.map((function(t,n){return n!==e.currentIndex&&t}))}))):(T(!0),Y((0,c.Z)(r.filter((function(e){return e.error})).map((function(e){return e.message})))),e.setError((function(t){return t.map((function(t,n){return n===e.currentIndex||t}))})))}else e.require?(T(!0),Y(["\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044"]),e.setError((function(t){return t.map((function(t,n){return n===e.currentIndex||t}))}))):(Y([].concat()),T(!1),e.setInput((function(t){return t.map((function(t,r){return r===e.currentIndex?{key:t.key,value:n.join("").replace(/(\+|-)$/g,""),isObject:t.isObject}:t})).concat()})),e.setError((function(t){return t.map((function(t,n){return n!==e.currentIndex&&t}))})))},onKeyDown:function(e){_&&["Backspace","Delete","ArrowLeft","ArrowUp","ArrowDown","ArrowRight"].some((function(t){return t===e.key}))&&(A(!1),O([].concat()),D(""))},multiline:e.isMultiline,inputRef:H,label:"".concat(e.label),required:void 0!==e.acceptType&&e.require,disabled:void 0===e.acceptType,placeholder:void 0===e.acceptType?"\u30ab\u30c6\u30b4\u30ea\u30fb\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u9078\u629e":"\u5909\u6570\u306e\u633f\u5165\u306f\u53f3\u306e\u30dc\u30bf\u30f3\u304b\u3089\u884c\u3044\u307e\u3059",error:b,InputProps:{endAdornment:(0,C.jsx)(u.Z,{position:"end",children:(0,C.jsx)(l.Z,{variant:"contained",color:_?"primary":"secondary",size:"medium",onClick:function(t){var n=H.current,r=null===n.selectionStart?0:n.selectionStart;_?(O([].concat()),D("")):(o((function(e){return"".concat(e.substr(0,r)).concat(e.substr(r))})),O((0,c.Z)(e.variableList.filter((function(t){return g.TextParser.isType(t.type,e.acceptType)})))),D(n.value)),G(""),R(r),A(!_),n.focus()},style:{width:"5em"},children:_?"\u9589\u3058\u308b":"\u5909\u6570\u633f\u5165"})})}}),(0,C.jsx)(h.Z,{in:0!==X.length,exit:0===X.length,unmountOnExit:!0,children:X.map((function(e,t){return(0,C.jsx)(S,{children:e},t)}))}),(0,C.jsx)(h.Z,{in:0!==N.length,unmountOnExit:!0,children:(0,C.jsx)(d.Z,{style:{maxHeight:"20em",overflow:"scroll",overflowX:"hidden"},children:N.map((function(e,t){return(0,C.jsx)(p.Z,{divider:!0,button:!0,"data-name":e.name,"data-label":e.label,"data-type":JSON.stringify(e.type),onClick:$,children:(0,C.jsx)(f.Z,{primary:e.name,secondary:"(".concat(e.label,") ").concat(e.type.parent).concat(e.type.child===x.default.NONE?"":" "+e.type.child)})},t)}))})})]})},k=n(6967),E=n(2863),_=n(9912),A=n(6066),P=n(3797),F=n(268),z=n(1120),R=n(5117),L=(0,z.Z)((function(e){return(0,R.Z)({card:{width:"100%",overflow:"auto",padding:e.spacing(0)}})})),M=function(e){var t=e.open,n=e.onClose,r=e.children,i=e.style,a=(0,T.Z)(),o=L(),s=(0,b.Z)().clsxJoin;return(0,C.jsx)(F.Z,{open:t,onClose:n,children:(0,C.jsx)("div",{className:s(a.card_basic,a.positionFixedCentering,o.card),style:i,children:r})})},q=n(7265),D=n(6353),B=(0,z.Z)((function(e){return(0,R.Z)({listContainer:{maxHeight:"60vh",overflow:"scroll",overflowX:"hidden",borderRadius:e.shape.borderRadius,boxShadow:e.shadows[2]},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}})})),V=function(e){return(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(D.Z,{children:(0,C.jsx)(q.Z,{children:(0,C.jsx)(E.Z,{children:e.icon})})}),(0,C.jsx)(f.Z,{primary:e.pText,secondary:e.sText})]})},W=function(e){var t=B(),n=(0,T.Z)(),r=(0,b.Z)(),i=r.clsxSwitch,o=r.clsxJoin;return(0,C.jsxs)(a.Z,{container:!0,children:[(0,C.jsx)(a.Z,{item:!0,sm:11,xs:10,children:(0,C.jsx)("p",{className:o(n.text_body,n.text_secondary),style:{textAlign:"right"},children:"\u30ab\u30c6\u30b4\u30ea\u30d5\u30a3\u30eb\u30bf"})}),(0,C.jsx)(a.Z,{item:!0,sm:1,xs:2,children:(0,C.jsx)(k.Z,{className:i(t.expand,t.expandOpen,e.expand),"aria-expanded":e.expand,"aria-label":"show more",onClick:e.handleExpand,title:"\u6a5f\u80fd\u3092\u7d5e\u308a\u8fbc\u3080\u969b\u306b\u958b\u304d\u307e\u3059",children:(0,C.jsx)(E.Z,{children:"expand_more"})})}),(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)(h.Z,{in:e.expand,children:e.children})})]})},G=function(e){var t=(0,T.Z)(),n=(0,b.Z)().clsxJoin;return(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(m.Z,{required:!0,fullWidth:!0,variant:"outlined",color:"secondary",label:e.label,placeholder:"\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3059\u308b\u3068\u7d5e\u308a\u3053\u307f\u304c\u51fa\u6765\u307e\u3059",value:e.input,onChange:e.onChange,onBlur:e.onBlur,onFocus:e.onFocus,error:""!==e.error,InputProps:{endAdornment:(0,C.jsx)(u.Z,{position:"end",children:(0,C.jsx)(k.Z,{"aria-label":"value-clear",title:"\u5165\u529b\u5024\u3092\u30af\u30ea\u30a2\u3057\u307e\u3059",onClick:e.onClear,children:(0,C.jsx)(E.Z,{color:"action",fontSize:"small",children:"close"})})})}}),(0,C.jsx)(h.Z,{in:""!==e.error,children:(0,C.jsx)("div",{className:n(t.text_body,t.text_secondary),style:{width:"100%"},children:e.error})})]})},U=function(e){var t=e.inputCategory,n=e.setInputCategory,o=e.inputMethod,s=e.setInputMethod,c=e.setError,l=e.setClassesUpdater,u=B(),f={classesQuery:function(e){return{category:function(){return""===e?g.Classes.Search.getAllCategory():g.Classes.Search.getCategoryPartialMatch(e)},method:function(t){return""===e?g.Classes.Search.getAllMethods(t):g.Classes.Search.getMethodPartialMatch(e,t)}}},onChangeInit:function(e,t,n){t(e),n(20)},handleListViewNums:function(e){return{add:function(){e((function(e){return e+20}))},reset:function(){e(20)}}},handleError:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];r.forEach((function(t){return t(e?"\u5165\u529b\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002\u30ea\u30b9\u30c8\u304b\u3089\u9078\u629e\u4e0b\u3055\u3044\u3002":"")})),t(e)}},m=f.classesQuery,x=f.onChangeInit,y=f.handleError,v=f.handleListViewNums,j=i.useState(""),Z=(0,r.Z)(j,2),b=Z[0],T=Z[1],S=i.useState([]),w=(0,r.Z)(S,2),I=w[0],N=w[1],O=i.useState(""),k=(0,r.Z)(O,2),E=k[0],_=k[1],A=i.useState([]),P=(0,r.Z)(A,2),F=P[0],z=P[1],R=i.useState(20),L=(0,r.Z)(R,2),M=L[0],q=L[1],D=i.useState(!1),U=(0,r.Z)(D,2),J=U[0],X=U[1],Y=function(e){var t=e.currentTarget.getAttribute("data-categoryid");n(t),v(q).reset(),[s,_,T].forEach((function(e){return e("")})),[N,z].forEach((function(e){return e([])})),y(!g.Classes.Search.isCategoryId(t),c,T)},H=function(e){var t=e.currentTarget.getAttribute("data-categoryid"),r=e.currentTarget.getAttribute("data-methodid");X(!0),n(t),s(r),v(q).reset(),[N,z].forEach((function(e){return e([])})),y(!g.Classes.Search.isMethodId(t,r),c,T,_),l(t,r)};return(0,C.jsx)(i.Fragment,{children:(0,C.jsxs)(a.Z,{container:!0,justify:"center",alignItems:"center",spacing:3,children:[(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsxs)(W,{expand:J,handleExpand:function(){X(!J)},children:[(0,C.jsx)(G,{input:t,label:"\u30ab\u30c6\u30b4\u30ea\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044",error:b,onBlur:function(e){1===I.length?(n(I[0].categoryId),[N,z].forEach((function(e){return e([])})),v(q).reset(),y(!g.Classes.Search.isCategoryId(t),c,T)):""===t?T(""):y(!g.Classes.Search.isCategoryId(t),c,T)},onChange:function(e){x(e.currentTarget.value,n,q),N(m(e.currentTarget.value).category())},onFocus:function(){N(m(t).category())},onClear:function(){[n,s].forEach((function(e){return e("")}))}}),(0,C.jsx)(h.Z,{in:0!==I.length,exit:0===I.length,unmountOnExit:!0,children:(0,C.jsx)(d.Z,{className:u.listContainer,dense:!0,children:I.filter((function(e,t){return t<20})).map((function(e,t){return(0,C.jsx)(p.Z,{button:!0,divider:!0,"data-categoryid":e.categoryId,onClick:Y,children:(0,C.jsx)(V,{icon:e.cardCategoryIcon,pText:"".concat(e.categoryId,"/").concat(e.categoryName),sText:e.categoryDescription})},t)}))})})]})}),(0,C.jsxs)(a.Z,{item:!0,xs:12,children:[(0,C.jsx)(G,{input:o,label:"\u6a5f\u80fd\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044",error:E,onBlur:function(e){1===F.length?(X(!0),n(F[0].categoryId),s(F[0].methodId),[N,z].forEach((function(e){return e([])})),v(q).reset(),l(F[0].categoryId,F[0].methodId),y(!g.Classes.Search.isMethodId(F[0].categoryId,F[0].methodId),c,T,_)):y(!g.Classes.Search.isMethodId(t,o),c,_)},onChange:function(e){x(e.currentTarget.value,s,q),z(m(e.currentTarget.value).method(t))},onFocus:function(){z(m(o).method(t))},onClear:function(){s("")}}),(0,C.jsx)(h.Z,{in:0!==F.length,exit:0===F.length,unmountOnExit:!0,children:(0,C.jsxs)(d.Z,{className:u.listContainer,dense:!0,children:[F.filter((function(e,t){return t<M})).map((function(e,t){return(0,C.jsx)(p.Z,{button:!0,divider:!0,"data-categoryid":e.categoryId,"data-methodid":e.methodId,onClick:H,children:(0,C.jsx)(V,{icon:e.cardCategoryIcon,pText:"".concat(e.categoryName,"/").concat(e.methodName),sText:e.methodDescription})},t)})),F.length>M&&(0,C.jsx)(p.Z,{divider:!0,button:!0,onClick:function(){v(q).add()},children:(0,C.jsx)(V,{icon:"add",pText:"\u691c\u7d22\u7d50\u679c\u3092\u66f4\u306b\u8868\u793a\u3059\u308b",sText:"\u8ffd\u52a0\u306720\u4ef6\u3092\u8868\u793a\u3057\u307e\u3059"})})]})})]})]})})};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){var t=i.useState(""),n=(0,r.Z)(t,2),o=n[0],s=n[1],u=i.useState(!1),d=(0,r.Z)(u,2),p=d[0],f=d[1],h=i.useState(""),y=(0,r.Z)(h,2),v=y[0],j=y[1],Z=i.useState(!1),S=(0,r.Z)(Z,2),F=S[0],z=S[1],R=i.useState([]),L=(0,r.Z)(R,2),q=L[0],D=L[1],B=i.useState([]),V=(0,r.Z)(B,2),W=V[0],G=V[1],J=i.useState(""),Y=(0,r.Z)(J,2),H=Y[0],$=Y[1],Q=i.useState(""),K=(0,r.Z)(Q,2),ee=K[0],te=K[1],ne=i.useState(!1),re=(0,r.Z)(ne,2),ie=re[0],ae=re[1],oe=i.useState(void 0),se=(0,r.Z)(oe,2),ce=se[0],le=se[1],ue=i.useState([]),de=(0,r.Z)(ue,2),pe=de[0],fe=de[1],he=i.useState([]),me=(0,r.Z)(he,2),xe=me[0],ge=me[1],ye=i.useState(!0),ve=(0,r.Z)(ye,2),je=ve[0],Ze=ve[1],be=i.useState(""),Te=(0,r.Z)(be,2),Ce=Te[0],Se=Te[1],we=i.useState(""),Ie=(0,r.Z)(we,2),Ne=Ie[0],ke=Ie[1],Ee=(0,T.Z)(),_e=(0,P.TL)(),Ae=(0,b.Z)().clsxJoin,Pe=i.useContext(Oe);(0,i.useEffect)((function(){if(Pe.state.isModalOpen){var t=(0,A.e1)(e.entities,Pe.state.idForModal);$(t.categoryId),te(t.methodId),s(t.inputBaseValue),j(t.outputVariableName),D((0,c.Z)(t.inputArgumentValue)),le(g.Classes.Search.getSpecificClasses(t.categoryId,t.methodId)),ke(t.childGroupId)}}),[Pe.state.isModalOpen]),(0,i.useEffect)((function(){var e=!1;[p,F,W.some((function(e){return!0===e})),ie,void 0!==(null===ce||void 0===ce?void 0:ce.inputType)&&!g.TextParser.isTypeNone(ce.inputType)&&""===o,void 0!==(null===ce||void 0===ce?void 0:ce.outputType)&&!g.TextParser.isTypeNone(ce.outputType)&&""===v,void 0!==(null===ce||void 0===ce?void 0:ce.argumentType)&&0!==ce.argumentType.length&&ce.argumentType.some((function(e,t){return e.require&&""===q[t].value})),""===H,""===ee].some((function(e){return!0===e}))&&(e=!0),Ze(e)}),[o,v,q,H,ee,p,F,W,ie]),(0,i.useEffect)((function(){var t=(0,A.n7)(e.root,e.current,Pe.state.idForModal),n=t.all,r=t.ago;fe(r),ge(n)}),[Pe.state.isModalOpen]);var Fe=function(){_e(P.r6.deleteNoDataCard()),Pe.reducer({type:"update",payload:X(X({},Pe.state),{},{isModalOpen:!1})})};return(0,C.jsxs)(M,{open:Pe.state.isModalOpen,onClose:Fe,style:{maxHeight:"80vh",maxWidth:"800px",width:"95vw"},children:[(0,C.jsx)("div",{style:{width:"100%"},className:Ee.positionRight,children:(0,C.jsx)(k.Z,{color:"secondary",size:"small",onClick:Fe,style:{padding:"1px"},children:(0,C.jsx)(E.Z,{fontSize:"small",children:"cancel"})})}),(0,C.jsx)(_.Z,{style:{paddingTop:"0px"},children:(0,C.jsxs)(a.Z,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:[(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)("div",{className:Ae(Ee.text_h5,Ee.text_primary),children:"\u8a2d\u5b9a\u5024\u767b\u9332"})}),(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)(U,{inputCategory:H,setInputCategory:$,inputMethod:ee,setInputMethod:te,setError:ae,setClassesUpdater:function(e,t){if(""!==t){var n=g.Classes.Search.getSpecificClasses(e,t),r=void 0===(null===n||void 0===n?void 0:n.argumentType.length)?0:n.argumentType.length,i=null===n||void 0===n?void 0:n.argumentType.map((function(e){var t=q.find((function(t){return t.key===e.key}));return{key:e.key,value:void 0===t?"":t.value,isObject:e.isObject}}));le(n),D((0,c.Z)((0,w.isUndefined)(i)?[]:i)),G([].concat((0,c.Z)(W),(0,c.Z)(new Array(r).fill(!1).slice(0,r)))),f(!1),z(!1),G((function(e){return e.map((function(e){return!1}))}))}}})}),void 0!==(null===ce||void 0===ce?void 0:ce.inputType)&&!g.TextParser.isTypeNone(ce.inputType)&&(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)(I,{variableList:pe,acceptType:null===ce||void 0===ce?void 0:ce.inputType,input:o,setInput:s,label:"\u5165\u529b\u5024",error:p,setError:f})}),void 0!==(null===ce||void 0===ce?void 0:ce.outputType)&&!g.TextParser.isTypeNone(null===ce||void 0===ce?void 0:ce.outputType)&&(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)(N,{variableList:xe,acceptType:null===ce||void 0===ce?void 0:ce.outputType,input:v,setInput:j,label:"\u51fa\u529b\u5148\u540d\u6307\u5b9a\uff08\u5909\u6570\u540d\uff09",error:F,setError:z})}),0!==(null===ce||void 0===ce?void 0:ce.argumentType.length)&&void 0!==(null===ce||void 0===ce?void 0:ce.argumentType.length)&&(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)("div",{className:Ae(Ee.text_body,Ee.text_secondary),children:"\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc"})}),0!==(null===ce||void 0===ce?void 0:ce.argumentType.length)&&void 0!==(null===ce||void 0===ce?void 0:ce.argumentType.length)&&(null===ce||void 0===ce?void 0:ce.argumentType.map((function(e,t){return(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)(O,{variableList:pe,acceptType:e.type,input:q,setInput:D,isMultiline:e.isMultiLine,require:e.require,label:"\u5f15\u6570-".concat(t," (").concat(e.name,"/").concat(e.type.parent).concat(e.type.child===x.default.NONE?"":" "+e.type.child,")"),error:W,setError:G,currentIndex:t})},t)}))),(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)(m.Z,{variant:"outlined",color:"secondary",fullWidth:!0,onBlur:function(e){return Se(e.currentTarget.value)},label:"\u30b3\u30e1\u30f3\u30c8",required:!1,placeholder:"\u30e1\u30e2\u30fbTODO\u7b49\u81ea\u7531\u8a18\u8ff0\u6b04"})}),(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)(l.Z,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){if((0,w.isUndefined)(ce))console.error("currentClasses is undefined","ModalFormContainer","->","handleSubmit");else{var t=ce.hasNest&&""===Ne?(0,A.V9)(e.root):Ne;ce.hasNest&&""===Ne&&_e(P.r6.createGroup({groupId:t})),_e(P.r6.update({id:Pe.state.idForModal,categoryId:ce.categoryId,methodId:ce.methodId,inputBaseValue:o,inputArgumentValue:q,outputVariableName:v,comment:Ce,childGroupId:t})),Pe.reducer({type:"update",payload:{idForModal:"",isModalOpen:!1}})}},disabled:je,children:"\u767b\u9332"})})]})})]})};function H(){var e=(0,P.TL)(),t=(0,T.Z)();return(0,C.jsx)("div",{className:t.positionCentering,children:(0,C.jsx)(l.Z,{color:"secondary",variant:"outlined",fullWidth:!0,onClick:function(){e(P.r6.movePrevWindow())},children:"1\u3064\u4e0a\u306b\u623b\u308b"})})}var $=n(5517),Q=(0,z.Z)((function(e){return(0,R.Z)({ListItemCardActionButtons:{margin:"0em 0.5em 0.5em",color:e.palette.text.secondary,backgroundColor:e.palette.background.default}})})),K="up",ee="down",te="close",ne="nest";function re(e){var t=(0,P.TL)(),n=(0,T.Z)(),r=Q(),i=function(n){switch(n.currentTarget.getAttribute("data-flag")){case K:return t(P.r6.swapUp({id:e.id}));case ee:return t(P.r6.swapDown({id:e.id}));case te:return e.systemClasses.hasNest&&t(P.r6.deleteGroup({groupId:e.childGroup})),t(P.r6.remove({id:e.id}));case ne:return t(P.r6.moveNextWindow({currentGroupId:e.childGroup,currentParentCardId:e.id,currentParentGroupId:e.currentGroup.currentGroupId,argsFromParent:[{type:e.systemClasses.inputType.parent===x.default.ARRAY2?{parent:x.default.ARRAY,child:e.systemClasses.inputType.child}:{parent:e.systemClasses.inputType.child,child:x.default.NONE},remark:"\u89aa\u30b0\u30eb\u30fc\u30d7\u304b\u3089\u306e\u5f15\u6570\u5024:".concat(e.systemClasses.inputType.parent===x.default.ARRAY2?"".concat(x.default.ARRAY,".").concat(e.systemClasses.inputType.child):"".concat(e.systemClasses.inputType.child)),label:"variable",name:"".concat(e.childGroup,"Value")}]}));default:console.error("error",re.name,'\u6307\u5b9a\u3057\u305f\u8981\u7d20 "data-flag" \u304c\u3042\u308a\u307e\u305b\u3093')}};return(0,C.jsxs)("div",{style:{width:"100%"},className:n.positionRight,children:[e.systemClasses.hasNest&&(0,C.jsx)(l.Z,{className:r.ListItemCardActionButtons,variant:"text",size:"small",color:"secondary","data-flag":ne,onClick:i,children:"\uff1e\uff1e \u30cd\u30b9\u30c8\u3092\u958b\u304f"}),(0,C.jsx)(l.Z,{className:r.ListItemCardActionButtons,variant:"text",size:"small","data-flag":K,onClick:i,children:(0,C.jsx)(E.Z,{children:"expand_less"})}),(0,C.jsx)(l.Z,{className:r.ListItemCardActionButtons,variant:"text",size:"small","data-flag":ee,onClick:i,children:(0,C.jsx)(E.Z,{children:"expand_more"})}),(0,C.jsx)(l.Z,{variant:"text",size:"small","data-flag":te,className:r.ListItemCardActionButtons,onClick:i,children:(0,C.jsx)(E.Z,{children:"close"})})]})}function ie(e){var t=(0,P.TL)(),n=(0,T.Z)(),a=i.useContext(Oe),o=i.useState(!1),s=(0,r.Z)(o,2),c=s[0],l=s[1];i.useEffect((function(){c&&(l(!1),a.reducer({type:"update",payload:{idForModal:e.entities[e.index+1].id,isModalOpen:!0}}))}),[e.entities]);return(0,C.jsx)("div",{className:n.positionCentering,children:(0,C.jsx)(k.Z,{color:"secondary",onClick:function(){l(!0),t(P.r6.addBlankBox({position:e.index+1}))},children:(0,C.jsx)(E.Z,{children:"add_circle"})})})}var ae=(0,z.Z)((function(e){return(0,R.Z)({Title:{paddingTop:"1em",paddingBottom:"1em",paddingRight:"1em"},Content:{padding:"1em"},ContentTable:{},ContentTableTd1:{padding:"0.4em"},ContentTableTd2:{padding:"0.4em"}})}));function oe(e){var t,n=(0,T.Z)(),r=ae(),o=i.useContext(Oe);return(0,C.jsx)("div",{"data-id":e.currentClasses.id,onClick:function(){o.reducer({type:"update",payload:{idForModal:e.currentClasses.id,isModalOpen:!0}})},className:n.card_basic,children:(t=g.Classes.Search.getSpecificClasses(e.currentClasses.categoryId,e.currentClasses.methodId),null===t||void 0===t?(0,C.jsx)("div",{}):(0,C.jsxs)(i.Fragment,{children:[(0,C.jsxs)(a.Z,{container:!0,children:[(0,C.jsx)(a.Z,{item:!0,xs:2,children:(0,C.jsx)("div",{className:n.positionCentering,children:(0,C.jsx)(E.Z,{fontSize:"large",children:"event_available"})})}),(0,C.jsx)(a.Z,{item:!0,xs:1,children:(0,C.jsx)($.Z,{orientation:"vertical"})}),(0,C.jsx)(a.Z,{item:!0,xs:9,children:(0,C.jsx)(f.Z,{primary:t.methodName,secondary:t.methodDescription,className:r.Title})})]}),(0,C.jsx)($.Z,{}),(0,C.jsx)("div",{className:r.Content,children:(0,C.jsx)("table",{className:r.ContentTable,children:(0,C.jsxs)("tbody",{children:[""!==e.currentClasses.inputBaseValue&&(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:r.ContentTableTd1,children:(0,C.jsx)("div",{className:n.text_body,children:"\u5165\u529b\u5024"})}),(0,C.jsx)("td",{className:r.ContentTableTd2,children:e.currentClasses.inputBaseValue})]}),""!==e.currentClasses.outputVariableName&&(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:r.ContentTableTd1,children:(0,C.jsx)("div",{className:n.text_body,children:"\u51fa\u529b\u5909\u6570\u540d"})}),(0,C.jsx)("td",{className:r.ContentTableTd2,children:e.currentClasses.outputVariableName})]}),e.currentClasses.inputArgumentValue.filter((function(e){return""!==e.value})).map((function(e,t){return(0,C.jsxs)("tr",{children:[(0,C.jsxs)("td",{className:r.ContentTableTd1,children:["\u5f15\u6570-",e.key]}),(0,C.jsxs)("td",{className:r.ContentTableTd2,children:["= ",e.value]})]},t)})),""!==e.currentClasses.comment&&(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:r.ContentTableTd1,children:(0,C.jsx)("div",{className:n.text_body,children:"\u30b3\u30e1\u30f3\u30c8"})}),(0,C.jsx)("td",{className:r.ContentTableTd2,children:e.currentClasses.comment})]})]})})})]}))})}function se(e){return(0,C.jsx)(d.Z,{children:e.entities.map((function(t,n){var r=g.Classes.Search.getSpecificClasses(t.categoryId,t.methodId);return(0,w.isUndefined)(r)?(0,C.jsx)("div",{},n):(0,C.jsxs)(a.Z,{container:!0,alignItems:"center",justify:"center",children:[(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)(re,{id:t.id,childGroup:t.childGroupId,currentGroup:e.currentGroup,systemClasses:r})}),(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)(oe,{currentClasses:t})}),(0,C.jsx)(a.Z,{item:!0,xs:5,children:(0,C.jsx)($.Z,{variant:"middle"})}),(0,C.jsx)(a.Z,{item:!0,xs:2,children:(0,C.jsx)(ie,{id:t.id,index:n,entities:e.entities})}),(0,C.jsx)(a.Z,{item:!0,xs:5,children:(0,C.jsx)($.Z,{variant:"middle"})})]},n)}))})}var ce=n(4837),le=n(29),ue=n(7794),de=n.n(ue),pe=n(5477);function fe(e){var t=(0,T.Z)();return(0,C.jsx)("div",{children:e.loadFlag?(0,C.jsx)("div",{className:t.positionFixedCentering,style:{zIndex:9995,backgroundColor:"rgba(255, 255, 255, 0.7)",width:"100vw",height:"100vh"},children:(0,C.jsx)("div",{className:t.positionFixedCentering,children:(0,C.jsx)(pe.Z,{color:"secondary",style:{zIndex:9999,opacity:1,margin:"2em"}})})}):(0,C.jsx)("div",{})})}var he=function(e){var t=i.useState(!1),n=(0,r.Z)(t,2),o=n[0],s=n[1],c=i.useState(""),u=(0,r.Z)(c,2),d=u[0],p=u[1],f=i.useState(!1),x=(0,r.Z)(f,2),g=x[0],y=x[1],v=(0,b.Z)().clsxJoin,j=(0,T.Z)(),Z=i.useRef();(0,i.useEffect)((function(){var t=!0;return o||fetch("https://".concat(document.domain,"/api/generate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.entities)}).then(function(){var e=(0,le.Z)(de().mark((function e(n){var r;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:r=e.sent,t&&(p(r.body),y(!0),t=!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e)})),s(!0),function(){t=!1}}),[]);var S=function(){p(""),y(!1),e.setIsOpen(!1)};return(0,C.jsx)(F.Z,{open:e.isOpen,onClose:S,children:(0,C.jsxs)("div",{className:v(j.card_basic,j.positionFixedCentering),style:{width:"90vw"},children:[(0,C.jsx)(fe,{loadFlag:""===d&&!g}),(0,C.jsx)(h.Z,{in:""!==d||g,unmountOnExit:!0,children:(0,C.jsxs)(a.Z,{container:!0,direction:"column",spacing:3,children:[(0,C.jsx)(a.Z,{item:!0,children:(0,C.jsx)(m.Z,{value:d,onChange:function(e){p(e.currentTarget.value)},color:"secondary",rows:5,rowsMax:10,multiline:!0,fullWidth:!0,variant:"outlined",inputRef:Z,style:{marginBottom:"1em"}})}),(0,C.jsx)(a.Z,{item:!0,children:(0,C.jsxs)(ce.Z,{variant:"contained",fullWidth:!0,children:[(0,C.jsx)(l.Z,{color:"secondary",onClick:function(){var e;null===(e=Z.current)||void 0===e||e.select(),document.execCommand("copy"),alert("\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f")},children:"\u30b3\u30d4\u30fc"}),(0,C.jsx)(l.Z,{color:"secondary",onClick:S,children:"\u9589\u3058\u308b"})]})}),(0,C.jsx)(a.Z,{item:!0,children:(0,C.jsxs)(a.Z,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:[(0,C.jsxs)(a.Z,{item:!0,xs:4,children:[(0,C.jsx)("div",{className:j.positionCentering,style:{width:"100%"},children:(0,C.jsx)(k.Z,{onClick:function(){window.open("https://drive.google.com/drive")},children:(0,C.jsx)(E.Z,{color:"secondary",fontSize:"large",children:"folder_open"})})}),(0,C.jsx)("div",{className:v(j.text_body,j.text_align,j.text_secondary),children:"\u30c9\u30e9\u30a4\u30d6\u3092\u958b\u304f"})]}),(0,C.jsxs)(a.Z,{item:!0,xs:4,children:[(0,C.jsx)("div",{className:j.positionCentering,style:{width:"100%"},children:(0,C.jsx)(k.Z,{onClick:function(){window.open("https://script.new/")},children:(0,C.jsx)(E.Z,{color:"secondary",fontSize:"large",children:"code"})})}),(0,C.jsx)("div",{className:v(j.text_body,j.text_align,j.text_secondary),children:"\u65b0\u898f\u30b9\u30af\u30ea\u30d7\u30c8"})]}),(0,C.jsxs)(a.Z,{item:!0,xs:4,children:[(0,C.jsx)("div",{className:j.positionCentering,style:{width:"100%"},children:(0,C.jsx)(k.Z,{onClick:function(){window.open("https://spreadsheet.new/")},children:(0,C.jsx)(E.Z,{color:"secondary",fontSize:"large",children:"border_all"})})}),(0,C.jsx)("div",{className:v(j.text_body,j.text_align,j.text_secondary),children:"\u65b0\u898f\u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8"})]})]})})]})})]})})};function me(e){var t=i.useState(!1),n=(0,r.Z)(t,2),a=n[0],o=n[1],s=i.useContext(Oe),c=(0,P.TL)(),u=i.useState(!1),d=(0,r.Z)(u,2),p=d[0],f=d[1];i.useEffect((function(){a&&(o(!1),s.reducer({type:"update",payload:{idForModal:e.entities[0].id,isModalOpen:!0}}))}),[a]);return(0,C.jsxs)(i.Fragment,{children:[0===e.entities.length?(0,C.jsx)(l.Z,{color:"secondary",variant:"contained",fullWidth:!0,onClick:function(){c(P.r6.addBlankBox({position:0})),o(!0)},children:"\u4f5c\u6210\u958b\u59cb"}):(0,C.jsxs)(ce.Z,{color:"secondary",variant:"contained",fullWidth:!0,children:[(0,C.jsx)(l.Z,{onClick:function(){f(!0)},children:"\u30b3\u30fc\u30c9\u51fa\u529b"}),(0,C.jsx)(l.Z,{onClick:function(){var t=new Date,n="".concat(t.getFullYear()).concat(t.getMonth()).concat(t.getDate()).concat(t.getHours()).concat(t.getMinutes()).concat(t.getMinutes(),"_").concat((0,y.L$)(),".json"),r=new Blob([JSON.stringify(e.root)],{type:"text/json"}),i=document.createElement("a");document.body.appendChild(i),i.href=window.URL.createObjectURL(r),i.setAttribute("download",n),i.click(),document.body.removeChild(i),alert("\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3092\u884c\u3044\u307e\u3057\u305f\u3002")},children:"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8"})]}),p&&(0,C.jsx)(he,{isOpen:p,setIsOpen:f,entities:e.root})]})}var xe=n(3832),ge=(0,z.Z)((function(e){return(0,R.Z)({listContainer:{maxHeight:"15em",overflow:"scroll",overflowX:"hidden",borderRadius:e.shape.borderRadius,boxShadow:e.shadows[2]}})}));function ye(e){var t=ge().listContainer,n=function(t){var n=t.currentTarget.getAttribute("data-key");e.action(n)};return(0,C.jsx)(d.Z,{className:t,children:e.itemTexts.map((function(e,t){return(0,C.jsxs)(p.Z,{divider:!0,button:!0,"data-key":e.v,dense:!0,onClick:n,children:[(0,C.jsx)(D.Z,{children:(0,C.jsx)(q.Z,{children:(0,C.jsx)(E.Z,{fontSize:"small",children:e.i})})}),(0,C.jsx)(f.Z,{primary:e.p,secondary:e.s})]},t)}))})}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze=(0,z.Z)((function(e){return(0,R.Z)({Title:{paddingTop:"1em",paddingBottom:"1em",paddingRight:"1em"}})}));function be(e){var t=(0,T.Z)(),n=(0,b.Z)().clsxJoin;return(0,C.jsx)(i.Fragment,{children:(0,C.jsxs)(a.Z,{item:!0,xs:12,children:[(0,C.jsx)(m.Z,{variant:"outlined",fullWidth:!0,value:e.value,name:"\u8a2d\u5b9a\u5024".concat(e.index),label:e.placeHolder,color:"secondary",error:""!==e.error,placeholder:e.placeHolder,onChange:function(t){e.setValue(t.currentTarget.value)},onBlur:e.onBlur}),""!==e.error&&(0,C.jsx)("div",{className:n(t.text_remark,t.text_error),children:e.error})]})})}function Te(e){var t=(0,T.Z)(),n=(0,b.Z)().clsxJoin;return(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)("div",{className:n(t.text_h6,t.text_align,t.text_secondary),children:e.title})}),(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)(f.Z,{primary:e.subTitle,secondary:e.currentItem,style:{marginLeft:"0.1em"}})}),(0,C.jsxs)(a.Z,{item:!0,xs:12,children:[(0,C.jsx)("div",{className:n(t.text_body,t.text_secondary),children:"\u4ee5\u4e0b\u3088\u308a\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044"}),(0,C.jsx)(ye,{itemTexts:e.options,action:e.action})]})]})}function Ce(e){var t=(0,P.CG)((function(e){return e.editers.RunOptions})),n=(0,P.TL)(),o={getUniqueCategories:function(e){return(0,c.Z)(new Set(e.map((function(e){return e.categoryId})))).map((function(t){return e.find((function(e){return t===e.categoryId}))}))},buttonIsDisabledLogic:function(e,t,n,r){return[""===(null===e||void 0===e?void 0:e.categoryId),""===(null===e||void 0===e?void 0:e.methodId),t&&(null===t||void 0===t?void 0:t.frequency1Argument)&&""===e.frequency1Argument,t&&(null===t||void 0===t?void 0:t.frequency2Argument)&&""===e.frequency2Argument,t&&(null===t||void 0===t?void 0:t.frequency1Argument)&&""!==n,t&&(null===t||void 0===t?void 0:t.frequency2Argument)&&""!==r].some((function(e){return e}))}},s=o.buttonIsDisabledLogic,u=o.getUniqueCategories,d=i.useState(g.OptionClasses.RunOptions),p=(0,r.Z)(d,1)[0],f=i.useState([]),h=(0,r.Z)(f,2),m=h[0],x=h[1],y=i.useState(void 0),v=(0,r.Z)(y,2),j=v[0],Z=v[1],b=i.useState(""),T=(0,r.Z)(b,2),S=T[0],w=T[1],I=i.useState(""),N=(0,r.Z)(I,2),O=N[0],k=N[1],E=i.useState(""),A=(0,r.Z)(E,2),F=A[0],z=A[1],R=i.useState(""),L=(0,r.Z)(R,2),q=L[0],D=L[1];i.useEffect((function(){void 0!==t&&(""!==t.categoryId&&x(p.filter((function(e){return e.categoryId===t.categoryId}))),""!==t.methodId&&Z(p.filter((function(e){return e.categoryId===t.categoryId})).find((function(e){return e.methodId===t.methodId}))),k(t.frequency2Argument),w(t.frequency1Argument))}),[]);var B=function(e){e.reg.test(e.input)?(n(P.r6.updateRunOptionValue(e.db)),e.err("")):e.err("\u5165\u529b\u5024\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059 = "+j.frequenct1ArgumentDescription)},V=function(e){"\u8a2d\u5b9a\u50241"===e.currentTarget.name?B({input:S,desc:j.frequenct1ArgumentDescription,reg:j.frequency1Argument,err:z,db:je(je({},t),{},{frequency1Argument:S})}):"\u8a2d\u5b9a\u50242"===e.currentTarget.name?B({input:O,desc:j.frequenct2ArgumentDescription,reg:j.frequency2Argument,err:D,db:je(je({},t),{},{frequency2Argument:O})}):console.error("is not defined ".concat(e.currentTarget.name,". -> ").concat(Ce.name))},W=function(){s(t,j,F,q)&&n(P.r6.deleteRunOptionValue()),e.setOpenModal(!1)};return(0,C.jsx)(M,{open:e.openModal,onClose:W,style:{maxHeight:"80vh",maxWidth:"1000px"},children:(0,C.jsx)(_.Z,{children:(0,C.jsxs)(a.Z,{container:!0,spacing:2,children:[(0,C.jsx)(Te,{title:"\u30ea\u30b9\u30c8\u3088\u308a\u30ab\u30c6\u30b4\u30ea\u3092\u9078\u629e",subTitle:"\u73fe\u5728\u9078\u629e\u4e2d\u306e\u30ab\u30c6\u30b4\u30ea",options:u(p).map((function(e){return{p:e.categoryName,s:e.categoryDescription,v:e.categoryId,i:e.cardCategoryIcon}})),currentItem:0===m.length?"\u672a\u9078\u629e":m[0].categoryName,action:function(e){[w,k,z,D].forEach((function(e){return e("")})),n(P.r6.updateRunOptionValue(je(je({},t),{},{categoryId:e,methodId:"",frequency1Argument:"",frequency2Argument:""}))),x(p.filter((function(t){return t.categoryId===e}))),Z(void 0)}}),t&&""!==(null===t||void 0===t?void 0:t.categoryId)&&(0,C.jsx)(Te,{title:"",subTitle:"\u73fe\u5728\u9078\u629e\u4e2d\u306e\u30c8\u30ea\u30ac\u30fc",options:m.map((function(e){return{p:e.methodName,s:e.methodDescription,v:e.methodId,i:e.cardCategoryIcon}})),currentItem:void 0===j?"\u672a\u9078\u629e":j.methodName,action:function(e){[w,k,z,D].forEach((function(e){return e("")})),n(P.r6.updateRunOptionValue(je(je({},t),{},{methodId:e,frequency1Argument:"",frequency2Argument:""}))),Z(p.filter((function(e){return e.categoryId===t.categoryId})).find((function(t){return t.methodId===e})))}}),j&&(null===j||void 0===j?void 0:j.frequency1Argument)&&(0,C.jsx)(be,{index:"1",error:F,value:S,setValue:w,placeHolder:j.frequenct1ArgumentDescription,onBlur:V}),j&&(null===j||void 0===j?void 0:j.frequency2Argument)&&(0,C.jsx)(be,{index:"2",error:q,value:O,setValue:k,placeHolder:j.frequenct2ArgumentDescription,onBlur:V}),(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsxs)(ce.Z,{color:"secondary",fullWidth:!0,children:[(0,C.jsx)(l.Z,{onClick:function(){n(P.r6.deleteRunOptionValue()),W()},children:"\u8a2d\u5b9a\u3092\u6d88\u53bb\u3057\u3066\u9589\u3058\u308b"}),",",(0,C.jsx)(l.Z,{disabled:s(t,j,F,q),onClick:W,children:"\u78ba\u5b9a"})]})})]})})})}function Se(){var e=(0,T.Z)(),t=Ze(),n=i.useState(!1),o=(0,r.Z)(n,2),s=o[0],c=o[1];return(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)("div",{className:e.card_basic,onClick:function(){c(!0)},children:(0,C.jsxs)(a.Z,{container:!0,children:[(0,C.jsx)(a.Z,{item:!0,xs:2,children:(0,C.jsx)("div",{className:e.positionCentering,children:(0,C.jsx)(E.Z,{fontSize:"large",children:"power_settings_new"})})}),(0,C.jsx)(a.Z,{item:!0,xs:1,children:(0,C.jsx)($.Z,{orientation:"vertical"})}),(0,C.jsx)(a.Z,{item:!0,xs:9,children:(0,C.jsx)(f.Z,{primary:"\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u8d77\u52d5\u65b9\u6cd5",secondary:"\u5b9a\u671f\u5b9f\u884c\u3084\u6307\u5b9a\u6642\u9593\u5b9f\u884c\u8a2d\u5b9a\u3092\u3057\u307e\u3059",className:t.Title})})]})}),(0,C.jsx)(h.Z,{in:s,timeout:"auto",unmountOnExit:!0,children:(0,C.jsx)(Ce,{openModal:s,setOpenModal:c})})]})}var we=n(9008),Ie=n.n(we),Ne={idForModal:"",isModalOpen:!1},Oe=i.createContext({});function ke(e,t){if("update"===t.type)return t.payload;throw(0,y.Td)("\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044Action\u304c\u6e21\u3055\u308c\u307e\u3057\u305f",ke.name,Ee.name)}function Ee(){var e=(0,P.CG)((function(e){return e.editers})),t=i.useReducer(ke,Ne),n=(0,r.Z)(t,2),s=n[0],c=n[1],l=i.useState("root"),u=(0,r.Z)(l,2),d=u[0],p=u[1];return i.useEffect((function(){p((0,A.Xk)(e.current).currentGroupId)}),[e.current]),(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(Ie(),{children:(0,C.jsxs)("title",{children:["Rapid.gs"," - \u7de8\u96c6\u753b\u9762|GAS \u30ed\u30fc\u30b3\u30fc\u30c9\u4f5c\u6210\u30a2\u30d7\u30ea"]})}),(0,C.jsx)(o.Z,{children:(0,C.jsx)(xe.Z,{maxWidth:"md",children:(0,C.jsxs)(Oe.Provider,{value:{state:s,reducer:c},children:[""!==s.idForModal&&(0,C.jsx)(Y,{entities:e.entities[d],root:e.entities,current:e.current}),(0,C.jsxs)(a.Z,{container:!0,spacing:3,style:{marginTop:"1em"},children:[(0,C.jsx)(a.Z,{item:!0,xs:12,children:1!==e.current.length?(0,C.jsx)(H,{}):(0,C.jsx)(Se,{})}),(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)(se,{entities:e.entities[d],currentGroup:e.current[e.current.length-1]})}),(0,C.jsx)(a.Z,{item:!0,xs:12,children:(0,C.jsx)(me,{entities:e.entities[d],root:e})})]}),(0,C.jsx)("div",{style:{height:"1em"}})]})})})]})}},9494:function(e,t,n){"use strict";var r=n(9499),i=n(1120),a=n(5117);t.Z=(0,i.Z)((function(e){return(0,a.Z)({text_h1:(0,r.Z)({fontSize:e.typography.h2.fontSize,fontFamily:e.typography.h1.fontFamily,fontWeight:"bolder"},e.breakpoints.down("md"),{fontSize:e.typography.h3.fontSize}),text_h2:(0,r.Z)({fontSize:e.typography.h2.fontSize,fontFamily:e.typography.h2.fontFamily,fontWeight:"bolder"},e.breakpoints.down("md"),{fontSize:e.typography.h3.fontSize}),text_h3:(0,r.Z)({fontSize:e.typography.h3.fontSize,fontFamily:e.typography.h3.fontFamily,fontWeight:"bolder"},e.breakpoints.down("md"),{fontSize:e.typography.h4.fontSize}),text_h4:(0,r.Z)({fontSize:e.typography.h4.fontSize,fontFamily:e.typography.h4.fontFamily,fontWeight:"bolder"},e.breakpoints.down("md"),{fontSize:e.typography.h5.fontSize}),text_h5:(0,r.Z)({fontSize:e.typography.h5.fontSize,fontFamily:e.typography.h5.fontFamily,fontWeight:"bolder"},e.breakpoints.down("md"),{fontSize:e.typography.h6.fontSize}),text_h6:(0,r.Z)({fontSize:e.typography.h6.fontSize,fontFamily:e.typography.h6.fontFamily,fontWeight:"bolder"},e.breakpoints.down("md"),{fontSize:e.typography.subtitle1.fontSize}),text_body:(0,r.Z)({fontSize:e.typography.body1.fontSize,fontFamily:e.typography.body1.fontFamily},e.breakpoints.down("md"),{fontSize:e.typography.body2.fontSize}),text_remark:{fontSize:e.typography.caption.fontSize,fontFamily:e.typography.caption.fontFamily},text_align:{textAlign:"center"},text_error:{color:e.palette.error.main},text_secondary:{color:e.palette.text.secondary},text_primary:{color:e.palette.text.primary},text_noWrap:{whiteSpace:"nowrap",overflow:"scroll",overflowY:"hidden"},modalBasic:(0,r.Z)({width:"100%",backgroundColor:e.palette.background.paper,padding:"2em",borderRadius:"10px"},e.breakpoints.down("sm"),{padding:"0.5em"}),card_basic:(0,r.Z)({backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,boxShadow:e.shadows[3],padding:"2em"},e.breakpoints.down("sm"),{padding:"1em"}),positionCentering:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},positionRight:{display:"flex",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",width:"100%",height:"100%"},positionXCenterYBottom:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"flex-end",width:"100%",height:"100%"},positionXCenterYTop:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"flex-start",width:"100%",height:"100%"},positionFixedCentering:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},position_flex_col_y_centering:{display:"flex",flexWrap:"wrap",flex:"0 0 100%",justifyContent:"center",alignItems:"flexStart",flexDirection:"column",width:"100%",height:"100%"},"@keyframes SimpleFadeIn":{from:{opacity:0},to:{opacity:1}},transitionSimpleFadeIn:{animation:"$SimpleFadeIn",animationDuration:"1s",animationTimingFunction:e.transitions.easing.easeInOut},transitionFadeInDownPending:{opacity:0,transform:"translateY(-10vh)"},transitionFadeInUpPending:{opacity:0,transform:"translateY(10vh)"},transitionFadeInRightPending:{opacity:0,transform:"translateX(100vw)"},transitionFadeInLeftPending:{opacity:0,transform:"translateX(-100vw)"},transitionFadeInRun:{transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.complex,easing:e.transitions.easing.easeInOut}),opacity:1,transform:"translateX(0px)"},transitionFadeInEnd:{opacity:1,transform:"translateX(0px)"},contentSectionContainer:(0,r.Z)({maxWidth:e.breakpoints.values.md},e.breakpoints.down("sm"),{padding:e.spacing(1)}),rootContainer:{overflow:"hidden",width:"100%"},drawerContainer:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary},toolbar:e.mixins.toolbar})}))},2754:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/EditerPage",function(){return n(2276)}])}},function(e){e.O(0,[166,187,307,774,888,179],(function(){return t=2754,e(e.s=t);var t}));var t=e.O();_N_E=t}]);